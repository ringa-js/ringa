{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///ringa.dist.js","webpack:///webpack/bootstrap 0639c5723eb5d7d1aa20","webpack:///./src/CommandAbstract.js","webpack:///./src/RingaObject.js","webpack:///./src/RingaEvent.js","webpack:///./src/CommandFactory.js","webpack:///./src/CommandThreadFactory.js","webpack:///./src/RingaEventFactory.js","webpack:///./~/hasharray/index.js","webpack:///./src/RingaHashArray.js","webpack:///./src/util/command.js","webpack:///./src/util/function.js","webpack:///./src/Controller.js","webpack:///./src/commands/Command.js","webpack:///./src/decorators/inject.js","webpack:///./src/index.js","webpack:///./~/error-stack-parser/error-stack-parser.js","webpack:///./~/error-stack-parser/~/stackframe/stackframe.js","webpack:///./~/hasharray/src/HashArray.js","webpack:///./~/jclass/index.js","webpack:///./src/CommandThread.js","webpack:///./src/commands/CommandEventWrapper.js","webpack:///./src/commands/CommandFunctionWrapper.js","webpack:///./src/commands/CommandPromiseWrapper.js","webpack:///./src/commands/CommandsParallelWrapper.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_RingaObject2","_RingaObject3","CommandAbstract","_RingaObject","commandThread","_this","getPrototypeOf","controller","Error","id","options","timeout","_timeoutToken","setTimeout","_timeoutHandler","bind","undefined","clearTimeout","doneHandler","failHandler","startTimeoutCheck","endTimeoutCheck","error","kill","arguments","message","toString","console","fail","ringaEvent","RingaObject","_errorStackParser","_errorStackParser2","eventIx","RingaEvent","type","detail","bubbles","cancelable","customEvent","CustomEvent","dispatched","_errors","listeners","caught","domNode","document","_dispatch","window","__DEV__","dispatchStack","parse","shift","search","dispatchEvent","killed","pushError","errors","push","log","stack","_dispatchEvent","DONE","FAIL","forEach","listener","eventType","handler","addListener","currentTarget","PREHOOK","_typeof","Symbol","iterator","_CommandAbstract","_CommandAbstract2","_CommandFunctionWrapper","_CommandFunctionWrapper2","_CommandPromiseWrapper","_CommandPromiseWrapper2","_CommandEventWrapper","_CommandEventWrapper2","_CommandsParallelWrapper","_CommandsParallelWrapper2","_RingaEventFactory","_RingaEventFactory2","_function","CommandFactory","executee","argNames","getArgNames","execute","ringaEventFactory","then","cacheArguments","Array","_RingaHashArray2","_RingaHashArray3","_CommandThread","_CommandThread2","_CommandFactory","_CommandFactory2","CommandThreadFactory","_RingaHashArray","commandFactories","synchronous","addOne","_hashArray","addAll","threadId","_RingaEvent","_RingaEvent2","RingaEventFactory","requireCatch","cancellable","callee","newDetail","assign","_callee","_hasharray","_hasharray2","RingaHashArray","changeHandler","add","apply","_hashArray2","_hashArray3","addMap","_hashArray4","_hashArray5","_hashArray6","getAll","_hashArray7","getAsArray","_hashArray8","sample","_hashArray9","remove","_hashArray10","removeByKey","_hashArray11","removeAll","_hashArray12","intersection","_hashArray13","complement","_hashArray14","has","_hashArray15","hasMultiple","_hashArray16","collides","_hashArray17","_hashArray18","forEachDeep","_hashArray19","sum","_hashArray20","average","_hashArray21","filter","_hashArray22","objectAt","_hashArray23","clone","_list","buildArgumentsFromRingaEvent","commandAbstract","expectedArguments","args","injections","_injections","done","argName","join","func","substring","indexOf","replace","split","_CommandThreadFactory","_CommandThreadFactory2","Controller","throwKillsThread","consoleLogFails","commandThreads","eventTypeToCommandThreadFactory","Map","_eventHandler","commandThreadFactoryOrArray","commandThreadFactory","build","addEventListener","_eventType","removeEventListener","getListener","run","threadDoneHandler","threadFailHandler","abort","preInvokeHandler","_fail","invoke","postInvokeHandler","_done","details","dispatch","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","_CommandAbstract3","_command","Command","finished","donePassedAsArg","inject","classTypeOrName","option","injector","classToInjections","setter","set","forceUpdate","_","WeakMap","ForceUpdate","_inject","_inject2","_Command","_Command2","_Controller","_Controller2","Event","iif","condition","executor","Spawn","Bind","EventFactory","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","match","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","regExp","parts","exec","filtered","line","map","tokens","slice","locationParts","pop","functionName","fileName","lineNumber","columnNumber","source","e","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","result","len","argsRaw","functionCall","_isNumber","isNaN","parseFloat","isFinite","_capitalize","str","toUpperCase","_getter","booleanProps","concat","numericProps","stringProps","arrayProps","getArgs","setArgs","v","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","getFileName","getLineNumber","getColumnNumber","Boolean","j","Number","k","String","JClass","HashArray","_extend","init","keyFields","callback","_map","isHashArray","ignoreDuplicates","needsDupCheck","inst","arr","other","ret","allItems","all","item","keys","res","getUniqueRandomIntegers","count","min","max","Math","r","floor","random","image","rand","removed","items","ix","key2","splice","old","path","dup","objs","ignoreItems","weightKey","tot","weightsTotal","callbackOrKey","defaultCallback","val","ha","isFn","extend","sources","defaultOptions","_isClassObject","initializing","BaseClass","_subClasses","instanceMembers","classMembers","_class","SuperClass","superPrototype","_superClass","_extends","member","superMember","_super","ClassMembersSuperClass","_members","opts","ClassMembersClass","_instanceClass","_convert","cls","origin","_origin","_construct","Class","_superDescriptor","prop","CommandThread","running","children","_this2","commandFactory","command","buildCommands","index","executeNext","_execute","_commandDoneHandler","_commandFailHandler","CommandEventWrapper","dispatchedRingaEvent","addDoneListener","dispatchedRingaEventDoneHandler","addFailListener","dispatchedRingaEventFailHandler","CommandFunctionWrapper","substr","CommandPromiseWrapper","CommandsParallelWrapper"],"mappings":"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","file":"ringa.dist.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Ringa\"] = factory();\n\telse\n\t\troot[\"Ringa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Ringa\"] = factory();\n\telse\n\t\troot[\"Ringa\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 13);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RingaObject2 = __webpack_require__(1);\n\nvar _RingaObject3 = _interopRequireDefault(_RingaObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Command is the base class for all command objects that are run in a Ringa application or module.\n */\nvar CommandAbstract = function (_RingaObject) {\n  _inherits(CommandAbstract, _RingaObject);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new Command. This *must* be called via super() from a subclass constructor.\n   *\n   * @param commandThread The parent thread that owns this command.\n   */\n  function CommandAbstract(commandThread) {\n    _classCallCheck(this, CommandAbstract);\n\n    var _this = _possibleConstructorReturn(this, (CommandAbstract.__proto__ || Object.getPrototypeOf(CommandAbstract)).call(this));\n\n    if (!commandThread.controller) {\n      throw Error('Command(): attempting to build a command connected to a CommandThread that has no attached controller.');\n    }\n\n    _this.id = commandThread.controller.id + '_' + _this.constructor.name;\n\n    _this.commandThread = commandThread;\n    return _this;\n  }\n\n  //-----------------------------------\n  // Properties\n  //-----------------------------------\n\n\n  _createClass(CommandAbstract, [{\n    key: 'startTimeoutCheck',\n\n\n    //-----------------------------------\n    // Methods\n    //-----------------------------------\n    value: function startTimeoutCheck() {\n      if (this.controller.options.timeout !== -1) {\n        this._timeoutToken = setTimeout(this._timeoutHandler.bind(this), this.controller.options.timeout);\n      }\n    }\n  }, {\n    key: 'endTimeoutCheck',\n    value: function endTimeoutCheck() {\n      if (this._timeoutToken !== undefined) {\n        clearTimeout(this._timeoutToken);\n      }\n\n      this._timeoutToken = undefined;\n    }\n\n    /**\n     * Internal execution method called by CommandThread only. This must be overridden in a\n     * subclass to provide the appropriate functionality.\n     *\n     * @param doneHandler The handler to call when done() is called.\n     * @param failHandler The handler to call when fail() is called;\n     * @private\n     */\n\n  }, {\n    key: '_execute',\n    value: function _execute(doneHandler, failHandler) {\n      this.doneHandler = doneHandler;\n      this.failHandler = failHandler;\n\n      this.startTimeoutCheck();\n    }\n\n    /**\n     * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n     */\n\n  }, {\n    key: 'done',\n    value: function done() {\n      this.endTimeoutCheck();\n\n      this.doneHandler(true);\n    }\n\n    /**\n     * Call this method if an error occurred during the processing of a command.\n     *\n     * @param error The error that has occurred.\n     * @param kill True if you want the thread to die immediately.\n     */\n\n  }, {\n    key: 'fail',\n    value: function fail(error) {\n      var kill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this.endTimeoutCheck();\n\n      this.error = error;\n\n      this.failHandler(error, kill);\n    }\n\n    /**\n     * By default is this commands id.\n     *\n     * @returns {string|*}\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.id;\n    }\n\n    //-----------------------------------\n    // Methods\n    //-----------------------------------\n\n  }, {\n    key: '_timeoutHandler',\n    value: function _timeoutHandler() {\n      var message = 'CommandAbstract::_timeoutHandler(): the timeout for this command was exceeded ' + this.toString();\n\n      console.error(message);\n\n      this.fail(new Error(message), this);\n    }\n  }, {\n    key: 'ringaEvent',\n    get: function get() {\n      return this.commandThread.ringaEvent;\n    }\n  }, {\n    key: 'controller',\n    get: function get() {\n      return this.commandThread.controller;\n    }\n  }]);\n\n  return CommandAbstract;\n}(_RingaObject3.default);\n\nexports.default = CommandAbstract;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RingaObject = function () {\n  function RingaObject(id) {\n    _classCallCheck(this, RingaObject);\n\n    this.id = id;\n  }\n\n  _createClass(RingaObject, [{\n    key: 'toString',\n    value: function toString(value) {\n      return this.id + ' ' + (value || ' | RingaObject::toString() is designed to be overridden by the subclass.');\n    }\n  }]);\n\n  return RingaObject;\n}();\n\nexports.default = RingaObject;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RingaObject2 = __webpack_require__(1);\n\nvar _RingaObject3 = _interopRequireDefault(_RingaObject2);\n\nvar _errorStackParser = __webpack_require__(14);\n\nvar _errorStackParser2 = _interopRequireDefault(_errorStackParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar eventIx = 0;\n\n/**\n * RingaEvent wraps a CustomEvent that is dispatched on the DOM:\n *\n *   let event = new RingaEvent('change', {\n *     property: 'index',\n *     newValue: 1\n *   });\n *\n *   event.dispatch();\n *\n * By default, the event will be dispatched on the document object, but you can provide a custom DOMNode to dispatch\n * from:\n *\n *   event.dispatch(myDiv);\n *\n * All RingaEvents bubble and are cancelable by default.\n */\n\nvar RingaEvent = function (_RingaObject) {\n  _inherits(RingaEvent, _RingaObject);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Build a RingaEvent that wraps a CustomEvent internally.\n   *\n   * @param type\n   * @param detail\n   * @param bubbles\n   * @param cancelable\n   */\n  function RingaEvent(type) {\n    var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var bubbles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var cancelable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    _classCallCheck(this, RingaEvent);\n\n    var _this = _possibleConstructorReturn(this, (RingaEvent.__proto__ || Object.getPrototypeOf(RingaEvent)).call(this, 'event_' + type + '_' + eventIx++));\n\n    _this.detail = detail;\n    detail.ringaEvent = _this;\n\n    _this.customEvent = new CustomEvent(type, {\n      detail: detail,\n      bubbles: bubbles,\n      cancelable: cancelable\n    });\n\n    _this.dispatched = false;\n    _this.controller = undefined;\n\n    _this._errors = undefined;\n\n    _this.listeners = {};\n\n    _this.caught = false;\n    return _this;\n  }\n\n  //-----------------------------------\n  // Properties\n  //-----------------------------------\n\n\n  _createClass(RingaEvent, [{\n    key: 'dispatch',\n\n\n    //-----------------------------------\n    // Methods\n    //-----------------------------------\n    /**\n     * Dispatch the event on the provided domNode.\n     *\n     * Note: this method is always delayed so you must not access its properties\n     * until a frame later.\n     *\n     * @param domNode\n     */\n    value: function dispatch() {\n      var domNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n      setTimeout(this._dispatch.bind(this, domNode), 0);\n\n      return this;\n    }\n  }, {\n    key: '_dispatch',\n    value: function _dispatch(domNode) {\n      if (this.dispatched) {\n        throw Error('RingaEvent::dispatch(): events should only be dispatched once!', this);\n      }\n\n      this.dispatched = true;\n\n      // TODO this should be in dispatch not _dispatch\n      if (window.__DEV__) {\n        this.dispatchStack = _errorStackParser2.default.parse(new Error());\n        this.dispatchStack.shift(); // Remove a reference to RingaEvent.dispatch()\n        if (this.dispatchStack[0].toString().search('Object.dispatch') !== -1) {\n          this.dispatchStack.shift(); // Remove a reference to Object.dispatch()\n        }\n      } else {\n        this.dispatchStack = 'To turn on stack traces, build Ringa in development mode. See documentation.';\n      }\n\n      domNode.dispatchEvent(this.customEvent);\n    }\n\n    /**\n     * Completely kills the current Ringa thread, keeping any subsequent commands from running.\n     */\n\n  }, {\n    key: 'fail',\n    value: function fail(error) {\n      this.killed = true;\n\n      this.pushError(error);\n    }\n  }, {\n    key: 'pushError',\n    value: function pushError(error) {\n      this._errors = this._errors || [];\n      this.errors.push(error);\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      console.log('[' + this.type + ']', this.detail, this.target, this.stack);\n    }\n  }, {\n    key: '_done',\n    value: function _done() {\n      this._dispatchEvent(RingaEvent.DONE);\n    }\n  }, {\n    key: '_fail',\n    value: function _fail(error) {\n      this._dispatchEvent(RingaEvent.FAIL, undefined, error);\n    }\n  }, {\n    key: '_dispatchEvent',\n    value: function _dispatchEvent(type, detail, error) {\n      var listeners = this.listeners[type];\n\n      if (listeners) {\n        listeners.forEach(function (listener) {\n          listener({\n            type: type,\n            detail: detail,\n            error: error\n          });\n        });\n      }\n    }\n\n    /**\n     * Add a listener for either RingaEvent.DONE or RingaEvent.FAIL for when the CommandThread that\n     * was triggered by this event has completed.\n     *\n     * @param eventType\n     * @param handler\n     */\n\n  }, {\n    key: 'addListener',\n    value: function addListener(eventType, handler) {\n      if (typeof eventType !== 'string') {\n        throw Error('RingaEvent::addListener(): invalid eventType provided!' + eventType);\n      }\n\n      this.listeners[eventType] = this.listeners[eventType] || [];\n      this.listeners[eventType].push(handler);\n\n      return this;\n    }\n  }, {\n    key: 'addDoneListener',\n    value: function addDoneListener(handler) {\n      return this.addListener(RingaEvent.DONE, handler);\n    }\n  }, {\n    key: 'addFailListener',\n    value: function addFailListener(handler) {\n      return this.addListener(RingaEvent.FAIL, handler);\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return this.customEvent.type;\n    }\n  }, {\n    key: 'bubbles',\n    get: function get() {\n      return this.customEvent.bubbles;\n    }\n  }, {\n    key: 'cancelable',\n    get: function get() {\n      return this.customEvent.cancelable;\n    }\n  }, {\n    key: 'target',\n    get: function get() {\n      return this.customEvent.target;\n    }\n  }, {\n    key: 'currentTarget',\n    get: function get() {\n      return this.customEvent.currentTarget;\n    }\n  }, {\n    key: 'errors',\n    get: function get() {\n      return this._errors;\n    }\n  }]);\n\n  return RingaEvent;\n}(_RingaObject3.default);\n\nRingaEvent.DONE = 'done';\nRingaEvent.FAIL = 'fail';\nRingaEvent.PREHOOK = 'prehook';\n\nexports.default = RingaEvent;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _CommandAbstract = __webpack_require__(0);\n\nvar _CommandAbstract2 = _interopRequireDefault(_CommandAbstract);\n\nvar _CommandFunctionWrapper = __webpack_require__(20);\n\nvar _CommandFunctionWrapper2 = _interopRequireDefault(_CommandFunctionWrapper);\n\nvar _CommandPromiseWrapper = __webpack_require__(21);\n\nvar _CommandPromiseWrapper2 = _interopRequireDefault(_CommandPromiseWrapper);\n\nvar _CommandEventWrapper = __webpack_require__(19);\n\nvar _CommandEventWrapper2 = _interopRequireDefault(_CommandEventWrapper);\n\nvar _CommandsParallelWrapper = __webpack_require__(22);\n\nvar _CommandsParallelWrapper2 = _interopRequireDefault(_CommandsParallelWrapper);\n\nvar _RingaEventFactory = __webpack_require__(5);\n\nvar _RingaEventFactory2 = _interopRequireDefault(_RingaEventFactory);\n\nvar _function = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CommandFactory = function () {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructs a CommandFactory.\n   *\n   * @param executee This can be a Class, a instance, a function... we determine what type of\n   *   CommandAbstract to build based on what is passed in. This makes things extensible.\n   */\n  function CommandFactory(executee) {\n    _classCallCheck(this, CommandFactory);\n\n    this.executee = executee;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n\n\n  _createClass(CommandFactory, [{\n    key: 'cacheArguments',\n    value: function cacheArguments(instance) {\n      this.argNames = (0, _function.getArgNames)(instance.execute);\n    }\n  }, {\n    key: 'build',\n    value: function build(commandThread) {\n      if (typeof this.executee === 'string') {\n        var ringaEventFactory = new _RingaEventFactory2.default(this.executee);\n        return new _CommandEventWrapper2.default(commandThread, ringaEventFactory);\n      } else if (typeof this.executee.then === 'function') {\n        return new _CommandPromiseWrapper2.default(commandThread, this.executee);\n      } else if (typeof this.executee === 'function') {\n        if (this.executee.prototype instanceof _CommandAbstract2.default) {\n          var instance = new this.executee(commandThread, this.argNames);\n\n          if (!this.argNames) {\n            this.cacheArguments(instance);\n            instance.argNames = this.argNames;\n          }\n\n          return instance;\n        } else {\n          return new _CommandFunctionWrapper2.default(commandThread, this.executee);\n        }\n      } else if (this.executee instanceof Array) {\n        // This might be a group of CommandAbstracts that should be run synchronously\n        return new _CommandsParallelWrapper2.default(commandThread, this.executee);\n      } else if (_typeof(this.executee) === 'object' && this.executee instanceof _RingaEventFactory2.default) {\n        return new _CommandEventWrapper2.default(commandThread, this.executee);\n      }\n\n      throw Error('CommandFactory::build(): the type of executee you provided is not supported by Ringa: ' + _typeof(this.executee) + ': ' + this.executee);\n    }\n  }]);\n\n  return CommandFactory;\n}();\n\nexports.default = CommandFactory;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RingaHashArray2 = __webpack_require__(7);\n\nvar _RingaHashArray3 = _interopRequireDefault(_RingaHashArray2);\n\nvar _CommandThread = __webpack_require__(18);\n\nvar _CommandThread2 = _interopRequireDefault(_CommandThread);\n\nvar _CommandFactory = __webpack_require__(3);\n\nvar _CommandFactory2 = _interopRequireDefault(_CommandFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CommandThreadFactory = function (_RingaHashArray) {\n  _inherits(CommandThreadFactory, _RingaHashArray);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  function CommandThreadFactory(id, commandFactories, options) {\n    _classCallCheck(this, CommandThreadFactory);\n\n    var _this = _possibleConstructorReturn(this, (CommandThreadFactory.__proto__ || Object.getPrototypeOf(CommandThreadFactory)).call(this, id || 'commandFactory'));\n\n    options = options || {};\n    options.synchronous = options.synchronous === undefined ? false : options.synchronous;\n\n    var addOne = _this._hashArray.addOne;\n    _this._hashArray.addOne = function (obj) {\n      if (!(obj instanceof _CommandFactory2.default)) {\n        obj = new _CommandFactory2.default(obj);\n      }\n\n      addOne.call(this, obj);\n    };\n\n    if (commandFactories) {\n      _this.addAll(commandFactories);\n    }\n\n    _this.threadId = 0;\n    return _this;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n\n\n  _createClass(CommandThreadFactory, [{\n    key: 'build',\n    value: function build(ringaEvent) {\n      if (!this.controller) {\n        console.log('CommandThreadFactory::build(): controller was not set before the build method was called.');\n      }\n\n      var commandThread = new _CommandThread2.default(this.id + '_Thread' + this.threadId, this);\n\n      this.threadId++;\n\n      return commandThread;\n    }\n  }]);\n\n  return CommandThreadFactory;\n}(_RingaHashArray3.default);\n\nexports.default = CommandThreadFactory;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RingaEvent = __webpack_require__(2);\n\nvar _RingaEvent2 = _interopRequireDefault(_RingaEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RingaEventFactory = function () {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  function RingaEventFactory(eventType, detail, domNode) {\n    var requireCatch = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var bubbles = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var cancellable = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n\n    _classCallCheck(this, RingaEventFactory);\n\n    this.eventType = eventType;\n    this.detail = detail;\n    this.domNode = domNode;\n    this.bubbles = true;\n    this.cancellable = true;\n    this.requireCatch = requireCatch;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n\n\n  _createClass(RingaEventFactory, [{\n    key: 'build',\n    value: function build(callee) {\n      var newDetail = {};\n\n      Object.assign(newDetail, this.detail);\n\n      newDetail._callee = callee;\n      newDetail.requireCatch = this.requireCatch;\n\n      return new _RingaEvent2.default(this.eventType, newDetail, this.bubbles, this.cancellable);\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return 'RingaEventFactory_' + this.eventType;\n    }\n  }]);\n\n  return RingaEventFactory;\n}();\n\nexports.default = RingaEventFactory;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(16);\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _hasharray = __webpack_require__(6);\n\nvar _hasharray2 = _interopRequireDefault(_hasharray);\n\nvar _RingaObject2 = __webpack_require__(1);\n\nvar _RingaObject3 = _interopRequireDefault(_RingaObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * This is a proxy class for HashArray that extends RingaObject.\n */\nvar RingaHashArray = function (_RingaObject) {\n  _inherits(RingaHashArray, _RingaObject);\n\n  function RingaHashArray() {\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[ID]';\n    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'id';\n    var changeHandler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n\n    _classCallCheck(this, RingaHashArray);\n\n    var _this = _possibleConstructorReturn(this, (RingaHashArray.__proto__ || Object.getPrototypeOf(RingaHashArray)).call(this, id));\n\n    _this._hashArray = new _hasharray2.default(key, changeHandler, options);\n    return _this;\n  }\n\n  _createClass(RingaHashArray, [{\n    key: 'add',\n    value: function add() {\n      var _hashArray;\n\n      return (_hashArray = this._hashArray).add.apply(_hashArray, arguments);\n    }\n  }, {\n    key: 'addAll',\n    value: function addAll() {\n      var _hashArray2;\n\n      return (_hashArray2 = this._hashArray).addAll.apply(_hashArray2, arguments);\n    }\n  }, {\n    key: 'addMap',\n    value: function addMap() {\n      var _hashArray3;\n\n      return (_hashArray3 = this._hashArray).addMap.apply(_hashArray3, arguments);\n    }\n  }, {\n    key: 'addOne',\n    value: function addOne() {\n      var _hashArray4;\n\n      return (_hashArray4 = this._hashArray).addOne.apply(_hashArray4, arguments);\n    }\n  }, {\n    key: 'get',\n    value: function get() {\n      var _hashArray5;\n\n      return (_hashArray5 = this._hashArray).get.apply(_hashArray5, arguments);\n    }\n  }, {\n    key: 'getAll',\n    value: function getAll() {\n      var _hashArray6;\n\n      return (_hashArray6 = this._hashArray).getAll.apply(_hashArray6, arguments);\n    }\n  }, {\n    key: 'getAsArray',\n    value: function getAsArray() {\n      var _hashArray7;\n\n      return (_hashArray7 = this._hashArray).getAsArray.apply(_hashArray7, arguments);\n    }\n  }, {\n    key: 'sample',\n    value: function sample() {\n      var _hashArray8;\n\n      return (_hashArray8 = this._hashArray).sample.apply(_hashArray8, arguments);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      var _hashArray9;\n\n      return (_hashArray9 = this._hashArray).remove.apply(_hashArray9, arguments);\n    }\n  }, {\n    key: 'removeByKey',\n    value: function removeByKey() {\n      var _hashArray10;\n\n      return (_hashArray10 = this._hashArray).removeByKey.apply(_hashArray10, arguments);\n    }\n  }, {\n    key: 'removeAll',\n    value: function removeAll() {\n      var _hashArray11;\n\n      return (_hashArray11 = this._hashArray).removeAll.apply(_hashArray11, arguments);\n    }\n  }, {\n    key: 'intersection',\n    value: function intersection() {\n      var _hashArray12;\n\n      return (_hashArray12 = this._hashArray).intersection.apply(_hashArray12, arguments);\n    }\n  }, {\n    key: 'complement',\n    value: function complement() {\n      var _hashArray13;\n\n      return (_hashArray13 = this._hashArray).complement.apply(_hashArray13, arguments);\n    }\n  }, {\n    key: 'has',\n    value: function has() {\n      var _hashArray14;\n\n      return (_hashArray14 = this._hashArray).has.apply(_hashArray14, arguments);\n    }\n  }, {\n    key: 'hasMultiple',\n    value: function hasMultiple() {\n      var _hashArray15;\n\n      return (_hashArray15 = this._hashArray).hasMultiple.apply(_hashArray15, arguments);\n    }\n  }, {\n    key: 'collides',\n    value: function collides() {\n      var _hashArray16;\n\n      return (_hashArray16 = this._hashArray).collides.apply(_hashArray16, arguments);\n    }\n  }, {\n    key: 'forEach',\n    value: function forEach() {\n      var _hashArray17;\n\n      return (_hashArray17 = this._hashArray).forEach.apply(_hashArray17, arguments);\n    }\n  }, {\n    key: 'forEachDeep',\n    value: function forEachDeep() {\n      var _hashArray18;\n\n      return (_hashArray18 = this._hashArray).forEachDeep.apply(_hashArray18, arguments);\n    }\n  }, {\n    key: 'sum',\n    value: function sum() {\n      var _hashArray19;\n\n      return (_hashArray19 = this._hashArray).sum.apply(_hashArray19, arguments);\n    }\n  }, {\n    key: 'average',\n    value: function average() {\n      var _hashArray20;\n\n      return (_hashArray20 = this._hashArray).average.apply(_hashArray20, arguments);\n    }\n  }, {\n    key: 'filter',\n    value: function filter() {\n      var _hashArray21;\n\n      return (_hashArray21 = this._hashArray).filter.apply(_hashArray21, arguments);\n    }\n  }, {\n    key: 'objectAt',\n    value: function objectAt() {\n      var _hashArray22;\n\n      return (_hashArray22 = this._hashArray).objectAt.apply(_hashArray22, arguments);\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      var _hashArray23;\n\n      return (_hashArray23 = this._hashArray).clone.apply(_hashArray23, arguments);\n    }\n  }, {\n    key: 'all',\n    get: function get() {\n      return this._hashArray._list;\n    }\n  }]);\n\n  return RingaHashArray;\n}(_RingaObject3.default);\n\nexports.default = RingaHashArray;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * This method is used for injecting RingaEvent.detail properties into a function owned by a CommandAbstract. It uses the data\n * gathered from introspecting a provided function to determine a set of arguments to\n * call the function with. It maps everything on ringaEvent.detail to arguments on the function.\n *\n * If our function is:\n *\n *    execute(user, filter) {...}\n *\n *  Then expectedArguments should be ['user', 'filter']\n *\n *  To generate the expected arguments, see util/function.js::getArgNames.\n *\n * We want to find ringaEvent.detail['user'] and ringaEvent.detail['filter']\n * and pass those through and error if one of them is missing.\n *\n * Note that there are other properties that can be requested in the arguments list of execute:\n *\n * controller: the Controller object that is handling this thread\n * commandThread: the CommandThread object that built this Command\n * ringaEvent: the ringaEvent itself (instead of one of its detail properties)\n * customEvent: the customEvent that is wrapped by the ringaEvent that was used to bubble up the DOM\n * target: the target DOMNode that triggered the customEvent was dispatched on.\n * done: the parent CommandAbstract::done(). CommandFunction is an example of where this is needed.\n * fail: the parent CommandAbstract::fail(). CommandFunction is an example of where this is needed.\n *\n * @param commandAbstract The CommandAbstract subclass instance.\n * @param expectedArguments An array of argument names that the target function expects.\n * @param ringaEvent An instance of RingaEvent that has been dispatched and contains a details Object with properties to be injected.\n *\n * @returns {Array}\n */\nvar buildArgumentsFromRingaEvent = exports.buildArgumentsFromRingaEvent = function buildArgumentsFromRingaEvent(commandAbstract, expectedArguments, ringaEvent) {\n  var args = [];\n\n  if (!(expectedArguments instanceof Array)) {\n    throw Error('buildArgumentsFromRingaEvent(): An internal error has occurred in that expectedArguments is not an Array!');\n  }\n\n  var injections = commandAbstract._injections = commandAbstract._injections || {\n    controller: commandAbstract.controller,\n    commandThread: commandAbstract.commandThread,\n    ringaEvent: ringaEvent,\n    customEvent: ringaEvent.customEvent,\n    target: ringaEvent.target,\n    done: commandAbstract.done,\n    fail: commandAbstract.fail\n  };\n\n  // Merge controller.options.injections into our injector\n  for (var key in commandAbstract.controller.options.injections) {\n    injections[key] = commandAbstract.controller.options.injections[key];\n  }\n\n  expectedArguments.forEach(function (argName) {\n    if (ringaEvent.detail && ringaEvent.detail.hasOwnProperty(argName)) {\n      args.push(ringaEvent.detail[argName]);\n    } else if (injections.hasOwnProperty(argName)) {\n      args.push(injections[argName]);\n    } else {\n      var message = commandAbstract.toString() + ': the property \\'' + argName + '\\' was not provided on the dispatched ringaEvent.' + 'Expected Arguments were: [\\'' + expectedArguments.join('\\'.\\'') + '\\'] Dispatched from: ' + (ringaEvent.dispatchStack ? ringaEvent.dispatchStack[0] : 'unknown stack.');\n\n      throw Error(message);\n    }\n  });\n\n  return args;\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * This function returns the arguments for another method as an array.\n *\n * TODO: this should give some indication in its return on which arguments are optional (e.g. func(a=1,b=2,c='whatever'))\n *\n * @param func\n * @returns {Array}\n */\nvar getArgNames = exports.getArgNames = function getArgNames(func) {\n  var s = func.toString();\n  s = s.substring(s.indexOf('(') + 1, s.indexOf(')'));\n  s = s.replace(/[\\r\\n\\s]*/g, '');\n  s = s.replace(/\\\\+['\"]/g, '').replace(/=\\s*([\"']).*?\\1/g, '').replace(/=.*?(,|$)/g, '');\n  return s.length !== 0 ? s.split(',') : [];\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _CommandThreadFactory = __webpack_require__(4);\n\nvar _CommandThreadFactory2 = _interopRequireDefault(_CommandThreadFactory);\n\nvar _RingaObject2 = __webpack_require__(1);\n\nvar _RingaObject3 = _interopRequireDefault(_RingaObject2);\n\nvar _hasharray = __webpack_require__(6);\n\nvar _hasharray2 = _interopRequireDefault(_hasharray);\n\nvar _RingaEvent = __webpack_require__(2);\n\nvar _RingaEvent2 = _interopRequireDefault(_RingaEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Controller is the hub for events dispatched on the DOM invoking threads of commands.\n */\nvar Controller = function (_RingaObject) {\n  _inherits(Controller, _RingaObject);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructs a new controller.\n   *\n   * @param id The id of this controller, primarily used for internal hashes and debugging. Must be unique.\n   * @param domNode The native browser DOMNode element (not a React Node) to attach event listeners to.\n   * @param options See documentation on Controller options. Defaults are provided, so this is optional.\n   */\n  function Controller(id, domNode, options) {\n    _classCallCheck(this, Controller);\n\n    var _this = _possibleConstructorReturn(this, (Controller.__proto__ || Object.getPrototypeOf(Controller)).call(this, id));\n\n    if (!domNode) {\n      throw Error('Controller:constructor(): no DOMNode provided to constructor!');\n    }\n\n    _this.domNode = domNode;\n\n    _this.options = options || {};\n    _this.options.timeout = _this.options.timeout || 5000;\n    _this.options.throwKillsThread = _this.options.throwKillsThread === undefined ? true : false;\n    _this.options.consoleLogFails = _this.options.consoleLogFails === undefined ? true : false;\n    _this.options.injections = _this.options.injections || {};\n\n    _this.commandThreads = new _hasharray2.default('id');\n\n    _this.eventTypeToCommandThreadFactory = new Map();\n\n    _this._eventHandler = _this._eventHandler.bind(_this);\n    return _this;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n\n\n  _createClass(Controller, [{\n    key: 'getListener',\n    value: function getListener(eventType) {\n      return this.eventTypeToCommandThreadFactory[eventType];\n    }\n  }, {\n    key: 'addListener',\n    value: function addListener(eventType, commandThreadFactoryOrArray) {\n      var commandThreadFactory = void 0;\n\n      if (!commandThreadFactoryOrArray || commandThreadFactoryOrArray instanceof Array) {\n        commandThreadFactory = new _CommandThreadFactory2.default(this.id + '_' + eventType + '_CommandThreadFactory', commandThreadFactoryOrArray);\n      } else if (typeof commandThreadFactoryOrArray.build === 'function') {\n        commandThreadFactory = commandThreadFactoryOrArray;\n      } else {\n        throw Error('Controller::addListener(): the provided commandThreadFactoryOrArray is not valid!');\n      }\n\n      if (!commandThreadFactory || !(commandThreadFactory instanceof _CommandThreadFactory2.default)) {\n        throw Error('Controller::addListener(): commandThreadFactory not an instance of CommandThreadFactory');\n      }\n\n      if (commandThreadFactory.controller) {\n        throw Error('Controller::addListener(): commandThreadFactory cannot have two parent controllers!');\n      }\n\n      if (this.eventTypeToCommandThreadFactory[eventType]) {\n        throw Error('Controller.addListener(): the event \\'' + eventType + '\\' has already been added! Use getListener() to make modifications.');\n      }\n\n      commandThreadFactory.controller = this;\n\n      this.eventTypeToCommandThreadFactory[eventType] = commandThreadFactory;\n\n      if (typeof eventType === 'string') {\n        this.domNode.addEventListener(eventType, this._eventHandler);\n      } else {\n        var _eventType = undefined;\n\n        if (eventType.hasOwnProperty('toString')) {\n          _eventType = eventType.toString();\n        }\n\n        if (_eventType) {\n          this.domNode.addEventListener(_eventType, this._eventHandler.bind(this));\n        } else {\n          throw Error('Controller::addListener(): provided eventType is invalid.', eventType);\n        }\n      }\n\n      return commandThreadFactory;\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(eventType) {\n      var commandThreadFactory = this.eventTypeToCommandThreadFactory[eventType];\n\n      if (commandThreadFactory) {\n        delete this.eventTypeToCommandThreadFactory[eventType];\n\n        this.domNode.removeEventListener(eventType, this._eventHandler);\n\n        return commandThreadFactory;\n      }\n\n      throw Error('Controller:removeListener(): could not find a listener for \\'' + eventType + '\\'', this);\n    }\n  }, {\n    key: 'hasListener',\n    value: function hasListener(eventType) {\n      return this.getListener(eventType) !== undefined;\n    }\n  }, {\n    key: 'invoke',\n    value: function invoke(ringaEvent, commandThreadFactory) {\n      var commandThread = commandThreadFactory.build(ringaEvent);\n\n      this.commandThreads.add(commandThread);\n\n      ringaEvent._dispatchEvent(_RingaEvent2.default.PREHOOK);\n\n      // TODO PREHOOK should allow the handler to cancel running of the thread.\n      commandThread.run(ringaEvent, this.threadDoneHandler.bind(this), this.threadFailHandler.bind(this));\n\n      return commandThread;\n    }\n\n    //-----------------------------------\n    // Events\n    //-----------------------------------\n\n  }, {\n    key: '_eventHandler',\n    value: function _eventHandler(customEvent) {\n      // This event might be a something like 'click' which does not have\n      // an attached ringaEvent yet!\n      customEvent.detail.ringaEvent = customEvent.detail.ringaEvent || new _RingaEvent2.default(customEvent.type, customEvent.detail, customEvent.bubbles, customEvent.cancellable);\n\n      // TODO, how do we handle two controllers handling the same event?\n      if (customEvent.detail.ringaEvent.controller) {\n        throw Error('Controller::_eventHandler(): event was received that has already been handled by another controller: ' + customEvent);\n      }\n\n      customEvent.detail.ringaEvent.controller = this;\n\n      var commandThreadFactory = this.eventTypeToCommandThreadFactory[customEvent.type];\n\n      if (!commandThreadFactory) {\n        throw Error('Controller::_eventHandler(): caught an event but there is no associated CommandThreadFactory! Fatal error.');\n      }\n\n      customEvent.detail.ringaEvent.caught = true;\n\n      var abort = void 0;\n      try {\n        abort = this.preInvokeHandler(customEvent.detail.ringaEvent);\n      } catch (error) {\n        // At this point we don't have a thread yet, so this is all kinds of whack.\n        if (this.options.consoleLogFails) {\n          console.error(error);\n        }\n\n        customEvent.detail.ringaEvent._fail(error);\n      }\n\n      if (abort === true) {\n        return;\n      }\n\n      try {\n        var _commandThread = this.invoke(customEvent.detail.ringaEvent, commandThreadFactory);\n\n        this.postInvokeHandler(customEvent.detail.ringaEvent, _commandThread);\n      } catch (error) {\n        this.threadFailHandler(commandThread, error);\n      }\n    }\n  }, {\n    key: 'preInvokeHandler',\n    value: function preInvokeHandler(ringaEvent) {\n      // Can be extended by a subclass\n      return false;\n    }\n  }, {\n    key: 'postInvokeHandler',\n    value: function postInvokeHandler(ringaEvent, commandThread) {\n      // Can be extended by a subclass\n    }\n  }, {\n    key: 'threadDoneHandler',\n    value: function threadDoneHandler(commandThread) {\n      if (!this.commandThreads.has(commandThread.id)) {\n        throw Error('Controller::threadDoneHandler(): could not find thread with id ' + commandThread.id);\n      }\n\n      this.commandThreads.remove(commandThread);\n\n      commandThread.ringaEvent._done();\n    }\n  }, {\n    key: 'threadFailHandler',\n    value: function threadFailHandler(commandThread, error, kill) {\n      if (this.options.consoleLogFails) {\n        console.error(error);\n      }\n\n      if (kill) {\n        if (this.commandThreads.has(commandThread.id)) {\n          this.commandThreads.remove(commandThread);\n        } else {\n          throw Error('Controller:threadFailHandler(): the CommandThread with the id ' + commandThread.id + ' was not found.');\n        }\n      }\n\n      commandThread.ringaEvent._fail(error);\n    }\n  }, {\n    key: 'dispatch',\n    value: function dispatch(eventType, details) {\n      return new _RingaEvent2.default(eventType, details).dispatch(this.domNode);\n    }\n  }]);\n\n  return Controller;\n}(_RingaObject3.default);\n\nexports.default = Controller;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _CommandAbstract2 = __webpack_require__(0);\n\nvar _CommandAbstract3 = _interopRequireDefault(_CommandAbstract2);\n\nvar _command = __webpack_require__(8);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Command is the base class for all command objects that are run in a Ringa application or module.\n */\nvar Command = function (_CommandAbstract) {\n  _inherits(Command, _CommandAbstract);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new Command. This *must* be called via super() from a subclass constructor.\n   *\n   * @param commandThread The parent thread that owns this command.\n   * @param argNames For efficiency, the CommandFactory instrospects this Command's execute(...) arguments.\n   */\n  function Command(commandThread, argNames) {\n    _classCallCheck(this, Command);\n\n    var _this = _possibleConstructorReturn(this, (Command.__proto__ || Object.getPrototypeOf(Command)).call(this, commandThread));\n\n    _this.argNames = argNames;\n    _this.finished = false;\n    return _this;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n\n  /**\n   * Internal execution method called by CommandThread only.\n   *\n   * @param doneHandler The handler to call when done() is called.\n   * @param failHandler The handler to call when fail() is called;\n   * @private\n   */\n\n\n  _createClass(Command, [{\n    key: '_execute',\n    value: function _execute(doneHandler, failHandler) {\n      _get(Command.prototype.__proto__ || Object.getPrototypeOf(Command.prototype), '_execute', this).call(this, doneHandler, failHandler);\n\n      var args = (0, _command.buildArgumentsFromRingaEvent)(this, this.argNames, this.commandThread.ringaEvent);\n\n      var donePassedAsArg = this.argNames.indexOf('done') !== -1;\n\n      // If the function returns true, we continue on the next immediate cycle.\n      // If, however the function requested that 'done' be passed, we assume it is an asynchronous\n      // function and let the function determine when it will call done.\n      if (this.execute.apply(this, args) && !donePassedAsArg) {\n        this.done();\n      }\n    }\n\n    /**\n     * Override this method to provide functionality to the command.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'execute',\n    value: function execute() {\n      // To be overridden by subclass\n      return false;\n    }\n\n    /**\n     * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n     */\n\n  }, {\n    key: 'done',\n    value: function done() {\n      this.finished = true;\n\n      _get(Command.prototype.__proto__ || Object.getPrototypeOf(Command.prototype), 'done', this).call(this);\n    }\n\n    /**\n     * Call this method if an error occurred during the processing of a command.\n     *\n     * @param error The error that has occurred.\n     * @param kill True if you want the thread to die immediately.\n     */\n\n  }, {\n    key: 'fail',\n    value: function fail(error) {\n      var kill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this.finished = true;\n\n      _get(Command.prototype.__proto__ || Object.getPrototypeOf(Command.prototype), 'fail', this).call(this, error, kill);\n    }\n  }]);\n\n  return Command;\n}(_CommandAbstract3.default);\n\nexports.default = Command;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inject;\n\nvar _ = __webpack_require__(13);\n\n/**\n * This is a global map of all Class types to the expected injector object.\n *\n * @type {Map}\n */\nvar classToInjections = new WeakMap();\n\n/**\n * The inject descriptor is used like so:\n *\n *   @inject(ClassName)\n *   this.classInstance;\n *\n * OR\n *\n *   @inject('ObjectName')\n *   this.classInstance;\n *\n * @param classTypeOrName Either a Class reference or a string representing a requested object by name.\n * @param option Could be Ring.ForceUpdate which forces the parent class ReactDOM instance to call forceUpdate\n *               when the property is set.\n */\nfunction inject(classTypeOrName, option) {\n  return function (target, key, descriptor) {\n    var injector = classToInjections[target.constructor.name] = classToInjections[target.constructor.name] || {};\n    injector[key] = { classTypeOrName: classTypeOrName, option: option };\n\n    target.injector = injector;\n\n    // If ForceUpdate is set, then we wrap the default setter in a method\n    // that calls forceUpdate after the set has occurred.\n    if (option === _.ForceUpdate) {\n      (function () {\n        var setter = descriptor.set;\n\n        descriptor.set = function (value) {\n          setter.call(this, value);\n\n          this.forceUpdate();\n        };\n      })();\n    }\n\n    return descriptor;\n  };\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ForceUpdate = exports.RingaEvent = exports.Controller = exports.CommandThreadFactory = exports.CommandFactory = exports.Command = exports.inject = undefined;\n\nvar _inject = __webpack_require__(12);\n\nvar _inject2 = _interopRequireDefault(_inject);\n\nvar _Command = __webpack_require__(11);\n\nvar _Command2 = _interopRequireDefault(_Command);\n\nvar _CommandFactory = __webpack_require__(3);\n\nvar _CommandFactory2 = _interopRequireDefault(_CommandFactory);\n\nvar _CommandThreadFactory = __webpack_require__(4);\n\nvar _CommandThreadFactory2 = _interopRequireDefault(_CommandThreadFactory);\n\nvar _Controller = __webpack_require__(10);\n\nvar _Controller2 = _interopRequireDefault(_Controller);\n\nvar _RingaEvent = __webpack_require__(2);\n\nvar _RingaEvent2 = _interopRequireDefault(_RingaEvent);\n\nvar _RingaEventFactory = __webpack_require__(5);\n\nvar _RingaEventFactory2 = _interopRequireDefault(_RingaEventFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ForceUpdate = Symbol('ForceUpdate');\n\nexports.inject = _inject2.default;\nexports.Command = _Command2.default;\nexports.CommandFactory = _CommandFactory2.default;\nexports.CommandThreadFactory = _CommandThreadFactory2.default;\nexports.Controller = _Controller2.default;\nexports.RingaEvent = _RingaEvent2.default;\nexports.ForceUpdate = ForceUpdate;\nexports.default = {\n  inject: _inject2.default,\n  ForceUpdate: ForceUpdate,\n  Controller: _Controller2.default,\n  Command: _Command2.default,\n  CommandFactory: _CommandFactory2.default,\n  CommandThreadFactory: _CommandThreadFactory2.default,\n  Event: _RingaEvent2.default,\n  dispatch: function dispatch(eventType, details) {\n    var domNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n\n    return new _RingaEvent2.default(eventType, details).dispatch(domNode);\n  },\n  iif: function iif(condition, executor) {},\n  Spawn: function Spawn(executor) {},\n  Bind: function Bind(commandAbstract) {},\n  EventFactory: function EventFactory(eventType, detail, domNode) {\n    var requireCatch = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var bubbles = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var cancellable = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n\n    return new _RingaEventFactory2.default(eventType, detail, domNode, requireCatch, bubbles, cancellable);\n  }\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(15)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n})(undefined, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function (line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function (line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var tokens = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').split(/\\s+/).slice(1);\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function (line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function (line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var tokens = line.split('@');\n                    var locationParts = this.extractLocation(tokens.pop());\n                    var functionName = tokens.join('@') || undefined;\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        functionName: match[3] || undefined,\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function (line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function (line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = tokens.shift() || '';\n                var functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, '$2').replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = argsRaw === undefined || argsRaw === '[arguments not available]' ? undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n})(undefined, function () {\n    'use strict';\n\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str[0].toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function () {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            var props = booleanProps.concat(numericProps.concat(stringProps.concat(arrayProps)));\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function getArgs() {\n            return this.args;\n        },\n        setArgs: function setArgs(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function getEvalOrigin() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function setEvalOrigin(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function toString() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? '@' + this.getFileName() : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? ':' + this.getLineNumber() : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? ':' + this.getColumnNumber() : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = function (p) {\n            return function (v) {\n                this[p] = Boolean(v);\n            };\n        }(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = function (p) {\n            return function (v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        }(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = function (p) {\n            return function (v) {\n                this[p] = String(v);\n            };\n        }(stringProps[k]);\n    }\n\n    return StackFrame;\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*===========================================================================*\\\n * Requires\n\\*===========================================================================*/\nvar JClass = __webpack_require__(17);\n\n/*===========================================================================*\\\n * HashArray\n\\*===========================================================================*/\nvar HashArray = JClass._extend({\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  init: function init(keyFields, callback, options) {\n    keyFields = keyFields instanceof Array ? keyFields : [keyFields];\n\n    this._map = {};\n    this._list = [];\n    this.callback = callback;\n\n    this.keyFields = keyFields;\n\n    this.isHashArray = true;\n\n    this.options = options || {\n      ignoreDuplicates: false\n    };\n\n    if (callback) {\n      callback('construct');\n    }\n  },\n  //-----------------------------------\n  // add()\n  //-----------------------------------\n  addOne: function addOne(obj) {\n    var needsDupCheck = false;\n    for (var key in this.keyFields) {\n      key = this.keyFields[key];\n      var inst = this.objectAt(obj, key);\n      if (inst) {\n        if (this._map[inst]) {\n          if (this.options.ignoreDuplicates) return;\n          if (this._map[inst].indexOf(obj) != -1) {\n            // Cannot add the same item twice\n            needsDupCheck = true;\n            continue;\n          }\n          this._map[inst].push(obj);\n        } else this._map[inst] = [obj];\n      }\n    }\n\n    if (!needsDupCheck || this._list.indexOf(obj) == -1) this._list.push(obj);\n  },\n  add: function add() {\n    for (var i = 0; i < arguments.length; i++) {\n      this.addOne(arguments[i]);\n    }\n\n    if (this.callback) {\n      this.callback('add', Array.prototype.slice.call(arguments, 0));\n    }\n\n    return this;\n  },\n  addAll: function addAll(arr) {\n    if (arr.length < 100) this.add.apply(this, arr);else {\n      for (var i = 0; i < arr.length; i++) {\n        this.add(arr[i]);\n      }\n    }\n\n    return this;\n  },\n  addMap: function addMap(key, obj) {\n    this._map[key] = obj;\n    if (this.callback) {\n      this.callback('addMap', {\n        key: key,\n        obj: obj\n      });\n    }\n\n    return this;\n  },\n  //-----------------------------------\n  // Intersection, union, etc.\n  //-----------------------------------\n  /**\n   * Returns a new HashArray that contains the intersection between this (A) and the hasharray passed in (B). Returns A ^ B.\n   */\n  intersection: function intersection(other) {\n    var self = this;\n\n    if (!other || !other.isHashArray) throw Error('Cannot HashArray.intersection() on a non-hasharray object. You passed in: ', other);\n\n    var ret = this.clone(null, true),\n        allItems = this.clone(null, true).addAll(this.all.concat(other.all));\n\n    allItems.all.forEach(function (item) {\n      if (self.collides(item) && other.collides(item)) ret.add(item);\n    });\n\n    return ret;\n  },\n  /**\n   * Returns a new HashArray that contains the complement (difference) between this hash array (A) and the hasharray passed in (B). Returns A - B.\n   */\n  complement: function complement(other) {\n    var self = this;\n\n    if (!other || !other.isHashArray) throw Error('Cannot HashArray.complement() on a non-hasharray object. You passed in: ', other);\n\n    var ret = this.clone(null, true);\n\n    this.all.forEach(function (item) {\n      if (!other.collides(item)) ret.add(item);\n    });\n\n    return ret;\n  },\n  //-----------------------------------\n  // Retrieval\n  //-----------------------------------\n  get: function get(key) {\n    return !(this._map[key] instanceof Array) || this._map[key].length != 1 ? this._map[key] : this._map[key][0];\n  },\n  getAll: function getAll(keys) {\n    keys = keys instanceof Array ? keys : [keys];\n\n    if (keys[0] == '*') return this.all;\n\n    var res = new HashArray(this.keyFields);\n    for (var key in keys) {\n      res.add.apply(res, this.getAsArray(keys[key]));\n    }return res.all;\n  },\n  getAsArray: function getAsArray(key) {\n    return this._map[key] || [];\n  },\n  getUniqueRandomIntegers: function getUniqueRandomIntegers(count, min, max) {\n    var res = [],\n        map = {};\n\n    count = Math.min(Math.max(max - min, 1), count);\n\n    while (res.length < count) {\n      var r = Math.floor(min + Math.random() * (max + 1));\n      if (map[r]) continue;\n      map[r] = true;\n      res.push(r);\n    }\n\n    return res;\n  },\n  sample: function sample(count, keys) {\n    // http://en.wikipedia.org/wiki/Image_(mathematics)\n    var image = this.all,\n        ixs = {},\n        res = [];\n\n    if (keys) image = this.getAll(keys);\n\n    var rand = this.getUniqueRandomIntegers(count, 0, image.length - 1);\n\n    for (var i = 0; i < rand.length; i++) {\n      res.push(image[rand[i]]);\n    }return res;\n  },\n  //-----------------------------------\n  // Peeking\n  //-----------------------------------\n  has: function has(key) {\n    return this._map.hasOwnProperty(key);\n  },\n  collides: function collides(item) {\n    for (var k in this.keyFields) {\n      if (this.has(this.objectAt(item, this.keyFields[k]))) return true;\n    }return false;\n  },\n  hasMultiple: function hasMultiple(key) {\n    return this._map[key] instanceof Array;\n  },\n  //-----------------------------------\n  // Removal\n  //-----------------------------------\n  removeByKey: function removeByKey() {\n    var removed = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var key = arguments[i];\n      var items = this._map[key].concat();\n      if (items) {\n        removed = removed.concat(items);\n        for (var j in items) {\n          var item = items[j];\n          for (var ix in this.keyFields) {\n            var key2 = this.objectAt(item, this.keyFields[ix]);\n            if (key2 && this._map[key2]) {\n              var ix = this._map[key2].indexOf(item);\n              if (ix != -1) {\n                this._map[key2].splice(ix, 1);\n              }\n\n              if (this._map[key2].length == 0) delete this._map[key2];\n            }\n          }\n\n          this._list.splice(this._list.indexOf(item), 1);\n        }\n      }\n      delete this._map[key];\n    }\n\n    if (this.callback) {\n      this.callback('removeByKey', removed);\n    }\n\n    return this;\n  },\n  remove: function remove() {\n    for (var i = 0; i < arguments.length; i++) {\n      var item = arguments[i];\n      for (var ix in this.keyFields) {\n        var key = this.objectAt(item, this.keyFields[ix]);\n        if (key) {\n          var ix = this._map[key].indexOf(item);\n          if (ix != -1) this._map[key].splice(ix, 1);\n\n          if (this._map[key].length == 0) delete this._map[key];\n        }\n      }\n\n      this._list.splice(this._list.indexOf(item), 1);\n    }\n\n    if (this.callback) {\n      this.callback('remove', arguments);\n    }\n\n    return this;\n  },\n  removeAll: function removeAll() {\n    var old = this._list.concat();\n    this._map = {};\n    this._list = [];\n\n    if (this.callback) {\n      this.callback('remove', old);\n    }\n\n    return this;\n  },\n  //-----------------------------------\n  // Utility\n  //-----------------------------------\n  objectAt: function objectAt(obj, path) {\n    if (typeof path === 'string') {\n      return obj[path];\n    }\n\n    var dup = path.concat();\n    // else assume array.\n    while (dup.length && obj) {\n      obj = obj[dup.shift()];\n    }\n\n    return obj;\n  },\n  //-----------------------------------\n  // Iteration\n  //-----------------------------------\n  forEach: function forEach(keys, callback) {\n    keys = keys instanceof Array ? keys : [keys];\n\n    var objs = this.getAll(keys);\n\n    objs.forEach(callback);\n\n    return this;\n  },\n  forEachDeep: function forEachDeep(keys, key, callback) {\n    keys = keys instanceof Array ? keys : [keys];\n\n    var self = this,\n        objs = this.getAll(keys);\n\n    objs.forEach(function (item) {\n      callback(self.objectAt(item, key), item);\n    });\n\n    return this;\n  },\n  //-----------------------------------\n  // Cloning\n  //-----------------------------------\n  clone: function clone(callback, ignoreItems) {\n    var n = new HashArray(this.keyFields.concat(), callback ? callback : this.callback);\n    if (!ignoreItems) n.add.apply(n, this.all.concat());\n    return n;\n  },\n  //-----------------------------------\n  // Mathematical\n  //-----------------------------------\n  sum: function sum(keys, key, weightKey) {\n    var self = this,\n        ret = 0;\n    this.forEachDeep(keys, key, function (value, item) {\n      if (weightKey !== undefined) value *= self.objectAt(item, weightKey);\n\n      ret += value;\n    });\n    return ret;\n  },\n  average: function average(keys, key, weightKey) {\n    var ret = 0,\n        tot = 0,\n        weightsTotal = 0,\n        self = this;\n\n    if (weightKey !== undefined) this.forEachDeep(keys, weightKey, function (value) {\n      weightsTotal += value;\n    });\n\n    this.forEachDeep(keys, key, function (value, item) {\n      if (weightKey !== undefined) value *= self.objectAt(item, weightKey) / weightsTotal;\n\n      ret += value;\n      tot++;\n    });\n\n    return weightKey !== undefined ? ret : ret / tot;\n  },\n  //-----------------------------------\n  // Filtering\n  //-----------------------------------\n  filter: function filter(keys, callbackOrKey) {\n    var self = this;\n\n    var callback = typeof callbackOrKey == 'function' ? callbackOrKey : defaultCallback;\n\n    var ha = new HashArray(this.keyFields);\n    ha.addAll(this.getAll(keys).filter(callback));\n    return ha;\n\n    function defaultCallback(item) {\n      var val = self.objectAt(item, callbackOrKey);\n      return val !== undefined && val !== false;\n    }\n  }\n});\n\n//-----------------------------------\n// Operators\n//-----------------------------------\nObject.defineProperty(HashArray.prototype, 'all', {\n  get: function get() {\n    return this._list;\n  }\n});\n\nObject.defineProperty(HashArray.prototype, 'map', {\n  get: function get() {\n    return this._map;\n  }\n});\n\nmodule.exports = HashArray;\n\n//-----------------------------------\n// Browser\n//-----------------------------------\nif (typeof window !== 'undefined') window.HashArray = HashArray;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * jclass v1.1.9\n * https://github.com/riga/jclass\n *\n * Marcel Rieger, 2015\n * MIT licensed, http://www.opensource.org/licenses/mit-license\n */\n\n(function (factory) {\n\n  /**\n   * Make jclass available in any context.\n   */\n\n  if (true) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) == \"object\") {\n    // CommonJS\n    exports = factory();\n\n    if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) == \"object\") {\n      // NodeJS\n      module.exports = exports;\n    }\n  } else if (window) {\n    // Browser\n    window.JClass = factory();\n  } else if ((typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) == \"object\" && console.error instanceof Function) {\n    // error case\n    console.error(\"cannot determine environment\");\n  }\n})(function () {\n\n  /**\n   * Helper functions.\n   */\n\n  /**\n   * Checks whether a passed object is a function.\n   *\n   * @param obj - The object to check.\n   * @returns {boolean}\n   */\n  var isFn = function isFn(obj) {\n    return obj instanceof Function;\n  };\n\n  /**\n   * Extends a target object by one or more source objects with shallow key comparisons. Note that\n   * the extension is done in-place.\n   *\n   * @param {object} target - The target object to extend.\n   * @param {...object} source - Source objects.\n   * @returns {object} The extended object.\n   */\n  var extend = function extend(target) {\n    var sources = Array.prototype.slice.call(arguments, 1);\n\n    // loop through all sources\n    for (var i in sources) {\n      var source = sources[i];\n\n      // object check\n      if ((typeof source === \"undefined\" ? \"undefined\" : _typeof(source)) != \"object\") {\n        continue;\n      }\n\n      // loop through all source attributes\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  };\n\n  /**\n   * Default options.\n   */\n\n  var defaultOptions = {\n    // internal object for indicating that class objects don't have a class object themselves,\n    // may not be used by users\n    _isClassObject: false\n  };\n\n  /**\n   * Flags.\n   */\n\n  // flag to distinguish between prototype and class instantiation \n  var initializing = false;\n\n  /**\n   * Base class definition.\n   */\n\n  // empty BaseClass implementation\n  var BaseClass = function BaseClass() {};\n\n  // add the _subClasses entry\n  BaseClass._subClasses = [];\n\n  // empty init method\n  BaseClass.prototype.init = function () {};\n\n  /**\n   * Extend mechanism. Returns a derived class.\n   *\n   * @param {object} instanceMembers - Members that will be owned by instances.\n   * @param {object} classMembers - Members that will be owned by the class itself.\n   * @returns {JClass}\n   */\n  BaseClass._extend = function (instanceMembers, classMembers, options) {\n\n    // default arguments\n    if (instanceMembers === undefined) {\n      instanceMembers = {};\n    }\n    if (classMembers === undefined) {\n      classMembers = {};\n    }\n    if (options === undefined) {\n      options = {};\n    }\n\n    // mixin default options\n    options = extend({}, defaultOptions, options);\n\n    // sub class dummy constructor\n    var JClass = function JClass() {\n      // nothing happens here when we are initializing\n      if (initializing) {\n        return;\n      }\n\n      // store a reference to the class itself\n      this._class = JClass;\n\n      // all construction is actually done in the init method\n      if (this.init instanceof Function) {\n        this.init.apply(this, arguments);\n      }\n    };\n\n    // alias for readability\n    var SuperClass = this;\n\n    // create an instance of the super class via new\n    // the flag sandwich prevents a call to the init method\n    initializing = true;\n    var prototype = new SuperClass();\n    initializing = false;\n\n    // get the prototype of the super class\n    var superPrototype = SuperClass.prototype;\n\n    // the instance of the super class is our new prototype\n    JClass.prototype = prototype;\n\n    // enforce the constructor to be what we expect\n    // calls to the constructor will invoke the init method (see above)\n    JClass.prototype.constructor = JClass;\n\n    // store a reference to the super class\n    JClass._superClass = SuperClass;\n\n    // store references to all extending classes\n    JClass._subClasses = [];\n    SuperClass._subClasses.push(JClass);\n\n    // make this class extendable as well\n    JClass._extend = SuperClass._extend;\n\n    // _extends returns true if the class itself extended \"target\"\n    // in any hierarchy, e.g. every class extends \"JClass\" itself\n    JClass._extends = function (target) {\n      // this function operates recursive, so stop when the super class is our BaseClass\n      if (this._superClass == BaseClass) {\n        return false;\n      }\n\n      // success case\n      if (target == this._superClass || target == BaseClass) {\n        return true;\n      }\n\n      // continue with the next super class\n      return this._superClass._extends(target);\n    };\n\n    // propagate instance members directly to the created protoype,\n    // the member is either a normal member or a descriptor\n    for (var key in instanceMembers) {\n      var property = Object.getOwnPropertyDescriptor(instanceMembers, key);\n      var member = property.value;\n\n      // descriptor flag set?\n      if (member !== null && (typeof member === \"undefined\" ? \"undefined\" : _typeof(member)) == \"object\" && member.descriptor) {\n        Object.defineProperty(prototype, key, member);\n\n        // getter/setter syntax\n      } else if (!(\"value\" in property) && (\"set\" in property || \"get\" in property)) {\n        Object.defineProperty(prototype, key, property);\n\n        // normal member, simple assignment\n      } else {\n        prototype[key] = member;\n\n        // if both member and the super member are distinct functions\n        // add the super member to the member as \"_super\"\n        var superMember = superPrototype[key];\n        if (isFn(member) && isFn(superMember) && member !== superMember) {\n          member._super = superMember;\n        }\n      }\n    }\n\n    // propagate class members to the _members object\n    if (!options._isClassObject) {\n      // try to find the super class of the _members object \n      var ClassMembersSuperClass = SuperClass._members === undefined ? BaseClass : SuperClass._members._class;\n\n      // create the actual class of the _members instance\n      // with an updated version of our options\n      var opts = extend({}, options, { _isClassObject: true });\n      var ClassMembersClass = ClassMembersSuperClass._extend(classMembers, {}, opts);\n\n      // store the actual JClass in ClassMembersClass\n      ClassMembersClass._instanceClass = JClass;\n\n      // create the _members instance\n      JClass._members = new ClassMembersClass();\n    }\n\n    // return the new class\n    return JClass;\n  };\n\n  /**\n   * Converts arbitrary protoype-style classes to our JClass definition.\n   *\n   * @param {function} cls - The class to convert.\n   * @returns {JClass}\n   */\n  BaseClass._convert = function (cls, options) {\n    // the properties consist of the class' prototype\n    var instanceMembers = cls.prototype;\n\n    // add the constructor function\n    instanceMembers.init = function () {\n      // simply create an instance of our target class\n      var origin = this._origin = BaseClass._construct(cls, arguments);\n\n      // add properties for each own property in _origin\n      Object.keys(origin).forEach(function (key) {\n        if (!origin.hasOwnProperty(key)) {\n          return;\n        }\n\n        Object.defineProperty(this, key, {\n          get: function get() {\n            return origin[key];\n          }\n        });\n      }, this);\n    };\n\n    // finally, create and return our new class\n    return BaseClass._extend(instanceMembers, {}, options);\n  };\n\n  /**\n   * Returns an instance of a class with a list of arguments. This provides an apply-like\n   * constructor usage. Note that this approach does not work with native constructors (e.g. String\n   * or Boolean).\n   *\n   * @param {Class|JClass} cls - The class to instantiate. This may be a JClass or a prototype-based\n   *   class.\n   * @param {array} [args=[]] - Arguments to pass to the constructor.\n   * @returns {instance}\n   */\n  BaseClass._construct = function (cls, args) {\n    // empty default args\n    if (args === undefined) {\n      args = [];\n    }\n\n    // create a class wrapper that calls cls like a function\n    var Class = function Class() {\n      return cls.apply(this, args);\n    };\n\n    // copy the prototype\n    Class.prototype = cls.prototype;\n\n    // return a new instance\n    return new Class();\n  };\n\n  /**\n   * Returns a property descriptor of the super class.\n   *\n   * @param {JClass|instance} cls - A JClass or an instance of a JClass to retrieve the property\n   *   descriptor from.\n   * @param {string} prop - The name of the property descriptor to get.\n   * @returns {object}\n   */\n  BaseClass._superDescriptor = function (cls, prop) {\n    // if cls is an instance, use its class\n    if (\"_class\" in cls && cls instanceof cls._class) {\n      cls = cls._class;\n    }\n\n    // a JClass?\n    if (\"_extends\" in cls && cls._extends instanceof Function && cls._extends(this)) {\n      return Object.getOwnPropertyDescriptor(cls._superClass.prototype, prop);\n    } else {\n      return undefined;\n    }\n  };\n\n  /**\n   * Return the BaseClass.\n   */\n\n  return BaseClass;\n});\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RingaHashArray2 = __webpack_require__(7);\n\nvar _RingaHashArray3 = _interopRequireDefault(_RingaHashArray2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CommandThread = function (_RingaHashArray) {\n  _inherits(CommandThread, _RingaHashArray);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  function CommandThread(id, commandThreadFactory, options) {\n    _classCallCheck(this, CommandThread);\n\n    var _this = _possibleConstructorReturn(this, (CommandThread.__proto__ || Object.getPrototypeOf(CommandThread)).call(this, id));\n\n    _this.options = options;\n    _this.commandThreadFactory = commandThreadFactory;\n\n    _this.running = false;\n\n    // TODO: a command thread can potentially spawn child command threads\n    _this.children = [];\n    return _this;\n  }\n\n  _createClass(CommandThread, [{\n    key: 'buildCommands',\n\n\n    //-----------------------------------\n    // Methods\n    //-----------------------------------\n    value: function buildCommands() {\n      var _this2 = this;\n\n      this.commandThreadFactory.all.forEach(function (commandFactory) {\n        var command = commandFactory.build(_this2);\n\n        _this2.add(command);\n      });\n    }\n  }, {\n    key: 'run',\n    value: function run(ringaEvent, doneHandler, failHandler) {\n      if (this.running) {\n        throw Error('CommandThread::run(): you cannot start a thread while it is already running!');\n      }\n\n      if (this.commandThreadFactory.all.length === 0) {\n        throw Error('CommandThread::run(): attempting to run a thread with no commands!');\n      }\n\n      if (!ringaEvent) {\n        throw Error('CommandThread::run(): cannot run a thread without a RingaEvent!');\n      }\n\n      this.ringaEvent = ringaEvent;\n      this.doneHandler = doneHandler;\n      this.failHandler = failHandler;\n\n      this.buildCommands();\n\n      // The current command we are running\n      this.index = 0;\n\n      this.executeNext();\n    }\n  }, {\n    key: 'executeNext',\n    value: function executeNext() {\n      var command = this.all[this.index];\n\n      try {\n        command._execute(this._commandDoneHandler.bind(this), this._commandFailHandler.bind(this));\n      } catch (error) {\n        this._commandFailHandler(error);\n      }\n    }\n  }, {\n    key: 'kill',\n    value: function kill() {\n      this.running = false;\n    }\n\n    //-----------------------------------\n    // Events\n    //-----------------------------------\n\n  }, {\n    key: '_commandDoneHandler',\n    value: function _commandDoneHandler(error) {\n      this.index++;\n\n      if (this.index < this.all.length) {\n        setTimeout(this.executeNext.bind(this), 0);\n      } else {\n        this.doneHandler(this);\n      }\n    }\n  }, {\n    key: '_commandFailHandler',\n    value: function _commandFailHandler(error, kill) {\n      this.error = error;\n\n      this.failHandler(this, error, kill);\n\n      if (!kill) {\n        this._commandDoneHandler(error);\n      }\n    }\n  }, {\n    key: 'controller',\n    get: function get() {\n      return this.commandThreadFactory.controller;\n    }\n  }]);\n\n  return CommandThread;\n}(_RingaHashArray3.default);\n\nexports.default = CommandThread;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _CommandAbstract2 = __webpack_require__(0);\n\nvar _CommandAbstract3 = _interopRequireDefault(_CommandAbstract2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CommandEventWrapper = function (_CommandAbstract) {\n  _inherits(CommandEventWrapper, _CommandAbstract);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new CommandEventWrapper\n   *\n   * @param commandThread The parent thread that owns this command.\n   * @param ringaEventFactory The event to dispatch and watch!\n   */\n  function CommandEventWrapper(commandThread, ringaEventFactory) {\n    _classCallCheck(this, CommandEventWrapper);\n\n    var _this = _possibleConstructorReturn(this, (CommandEventWrapper.__proto__ || Object.getPrototypeOf(CommandEventWrapper)).call(this, commandThread));\n\n    _this.finished = false;\n    _this.ringaEventFactory = ringaEventFactory;\n    return _this;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  /**\n   * Internal execution method called by CommandThread only.\n   *\n   * @param doneHandler The handler to call when done() is called.\n   * @param failHandler The handler to call when fail() is called;\n   * @private\n   */\n\n\n  _createClass(CommandEventWrapper, [{\n    key: '_execute',\n    value: function _execute(doneHandler, failHandler) {\n      _get(CommandEventWrapper.prototype.__proto__ || Object.getPrototypeOf(CommandEventWrapper.prototype), '_execute', this).call(this, doneHandler, failHandler);\n\n      this.dispatchedRingaEvent = this.ringaEventFactory.build(this);\n\n      this.dispatchedRingaEvent.addDoneListener(this.dispatchedRingaEventDoneHandler.bind(this));\n      this.dispatchedRingaEvent.addFailListener(this.dispatchedRingaEventFailHandler.bind(this));\n\n      var domNode = this.dispatchedRingaEvent.domNode || this.ringaEvent.target;\n\n      this.dispatchedRingaEvent.dispatch(domNode);\n\n      if (this.dispatchedRingaEvent.detail.requireCatch && !this.dispatchedRingaEvent.caught) {\n        this.fail(Error('CommandEventWrapper::_execute(): event ' + this.dispatchedRingaEvent.type + ' was expected to be caught and it was not.'));\n      }\n    }\n\n    /**\n     * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n     */\n\n  }, {\n    key: 'done',\n    value: function done() {\n      this.finished = true;\n\n      _get(CommandEventWrapper.prototype.__proto__ || Object.getPrototypeOf(CommandEventWrapper.prototype), 'done', this).call(this);\n    }\n\n    /**\n     * Call this method if an error occurred during the processing of a command.\n     *\n     * @param error The error that has occurred.\n     * @param kill True if you want the thread to die immediately.\n     */\n\n  }, {\n    key: 'fail',\n    value: function fail(error) {\n      var kill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this.finished = true;\n\n      _get(CommandEventWrapper.prototype.__proto__ || Object.getPrototypeOf(CommandEventWrapper.prototype), 'fail', this).call(this, error, kill);\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.id + ': ' + this.ringaEventFactory.eventType;\n    }\n\n    //-----------------------------------\n    // Events\n    //-----------------------------------\n\n  }, {\n    key: 'dispatchedRingaEventDoneHandler',\n    value: function dispatchedRingaEventDoneHandler() {\n      this.done();\n    }\n  }, {\n    key: 'dispatchedRingaEventFailHandler',\n    value: function dispatchedRingaEventFailHandler(error) {\n      this.fail(error);\n    }\n  }]);\n\n  return CommandEventWrapper;\n}(_CommandAbstract3.default);\n\nexports.default = CommandEventWrapper;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _CommandAbstract2 = __webpack_require__(0);\n\nvar _CommandAbstract3 = _interopRequireDefault(_CommandAbstract2);\n\nvar _command = __webpack_require__(8);\n\nvar _function = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * CommandFunctionWrapper is a wrapper for a single function. As a general rule you will not use this directly.\n */\nvar CommandFunctionWrapper = function (_CommandAbstract) {\n  _inherits(CommandFunctionWrapper, _CommandAbstract);\n\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new Command. This *must* be called via super() from a subclass constructor.\n   *\n   * @param commandThread The parent thread that owns this command.\n   * @param func The function that is run when the CommandThread calls _execute().\n   */\n  function CommandFunctionWrapper(commandThread, func) {\n    _classCallCheck(this, CommandFunctionWrapper);\n\n    var _this = _possibleConstructorReturn(this, (CommandFunctionWrapper.__proto__ || Object.getPrototypeOf(CommandFunctionWrapper)).call(this, commandThread));\n\n    _this.func = func;\n    _this.finished = false;\n    _this.expectedArguments = (0, _function.getArgNames)(func);\n    return _this;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  /**\n   * Internal execution method called by CommandThread only.\n   *\n   * @param doneHandler The handler to call when done() is called.\n   * @param failHandler The handler to call when fail() is called;\n   * @private\n   */\n\n\n  _createClass(CommandFunctionWrapper, [{\n    key: '_execute',\n    value: function _execute(doneHandler, failHandler) {\n      _get(CommandFunctionWrapper.prototype.__proto__ || Object.getPrototypeOf(CommandFunctionWrapper.prototype), '_execute', this).call(this, doneHandler, failHandler);\n\n      var args = (0, _command.buildArgumentsFromRingaEvent)(this, this.expectedArguments, this.ringaEvent);\n\n      var donePassedAsArg = this.expectedArguments.indexOf('done') !== -1;\n\n      try {\n        // If the function requested that 'done' be passed, we assume it is an asynchronous\n        // function and let the function determine when it will call done.\n        this.func.apply(undefined, args);\n\n        if (!donePassedAsArg) {\n          this.done();\n        }\n      } catch (error) {\n        this.fail(error);\n      }\n    }\n\n    /**\n     * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n     */\n\n  }, {\n    key: 'done',\n    value: function done() {\n      this.finished = true;\n\n      _get(CommandFunctionWrapper.prototype.__proto__ || Object.getPrototypeOf(CommandFunctionWrapper.prototype), 'done', this).call(this);\n    }\n\n    /**\n     * Call this method if an error occurred during the processing of a command.\n     *\n     * @param error The error that has occurred.\n     * @param kill True if you want the thread to die immediately.\n     */\n\n  }, {\n    key: 'fail',\n    value: function fail(error) {\n      var kill = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this.finished = true;\n\n      _get(CommandFunctionWrapper.prototype.__proto__ || Object.getPrototypeOf(CommandFunctionWrapper.prototype), 'fail', this).call(this, error, kill);\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.id + ': ' + this.func.toString().substr(0, 128);\n    }\n  }]);\n\n  return CommandFunctionWrapper;\n}(_CommandAbstract3.default);\n\nexports.default = CommandFunctionWrapper;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CommandAbstract2 = __webpack_require__(0);\n\nvar _CommandAbstract3 = _interopRequireDefault(_CommandAbstract2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CommandPromiseWrapper = function (_CommandAbstract) {\n  _inherits(CommandPromiseWrapper, _CommandAbstract);\n\n  function CommandPromiseWrapper() {\n    _classCallCheck(this, CommandPromiseWrapper);\n\n    return _possibleConstructorReturn(this, (CommandPromiseWrapper.__proto__ || Object.getPrototypeOf(CommandPromiseWrapper)).apply(this, arguments));\n  }\n\n  return CommandPromiseWrapper;\n}(_CommandAbstract3.default);\n\nexports.default = CommandPromiseWrapper;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CommandAbstract2 = __webpack_require__(0);\n\nvar _CommandAbstract3 = _interopRequireDefault(_CommandAbstract2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CommandsParallelWrapper = function (_CommandAbstract) {\n  _inherits(CommandsParallelWrapper, _CommandAbstract);\n\n  function CommandsParallelWrapper() {\n    _classCallCheck(this, CommandsParallelWrapper);\n\n    return _possibleConstructorReturn(this, (CommandsParallelWrapper.__proto__ || Object.getPrototypeOf(CommandsParallelWrapper)).apply(this, arguments));\n  }\n\n  return CommandsParallelWrapper;\n}(_CommandAbstract3.default);\n\nexports.default = CommandsParallelWrapper;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// ringa.dist.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0639c5723eb5d7d1aa20","import RingaObject from './RingaObject';\n\n/**\n * Command is the base class for all command objects that are run in a Ringa application or module.\n */\nclass CommandAbstract extends RingaObject {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new Command. This *must* be called via super() from a subclass constructor.\n   *\n   * @param commandThread The parent thread that owns this command.\n   */\n  constructor(commandThread) {\n    super();\n\n    if (!commandThread.controller) {\n      throw Error('Command(): attempting to build a command connected to a CommandThread that has no attached controller.');\n    }\n\n    this.id = commandThread.controller.id + '_' + this.constructor.name;\n\n    this.commandThread = commandThread;\n  }\n\n  //-----------------------------------\n  // Properties\n  //-----------------------------------\n  get ringaEvent() {\n    return this.commandThread.ringaEvent;\n  }\n\n  get controller() {\n    return this.commandThread.controller;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  startTimeoutCheck() {\n    if (this.controller.options.timeout !== -1) {\n      this._timeoutToken = setTimeout(this._timeoutHandler.bind(this), this.controller.options.timeout);\n    }\n  }\n\n  endTimeoutCheck() {\n    if (this._timeoutToken !== undefined) {\n      clearTimeout(this._timeoutToken);\n    }\n\n    this._timeoutToken = undefined;\n  }\n\n  /**\n   * Internal execution method called by CommandThread only. This must be overridden in a\n   * subclass to provide the appropriate functionality.\n   *\n   * @param doneHandler The handler to call when done() is called.\n   * @param failHandler The handler to call when fail() is called;\n   * @private\n   */\n  _execute(doneHandler, failHandler) {\n    this.doneHandler = doneHandler;\n    this.failHandler = failHandler;\n\n    this.startTimeoutCheck();\n  }\n\n  /**\n   * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n   */\n  done() {\n    this.endTimeoutCheck();\n\n    this.doneHandler(true);\n  }\n\n  /**\n   * Call this method if an error occurred during the processing of a command.\n   *\n   * @param error The error that has occurred.\n   * @param kill True if you want the thread to die immediately.\n   */\n  fail(error, kill = false) {\n    this.endTimeoutCheck();\n\n    this.error = error;\n\n    this.failHandler(error, kill);\n  }\n\n  /**\n   * By default is this commands id.\n   *\n   * @returns {string|*}\n   */\n  toString() {\n    return this.id;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  _timeoutHandler() {\n    let message = 'CommandAbstract::_timeoutHandler(): the timeout for this command was exceeded ' + this.toString();\n\n    console.error(message);\n\n    this.fail(new Error(message), this);\n  }\n}\n\nexport default CommandAbstract;\n\n\n// WEBPACK FOOTER //\n// ./src/CommandAbstract.js","class RingaObject {\n  constructor(id) {\n    this.id = id;\n  }\n\n  toString(value) {\n    return this.id + ' ' + (value || ' | RingaObject::toString() is designed to be overridden by the subclass.');\n  }\n}\n\nexport default RingaObject;\n\n\n// WEBPACK FOOTER //\n// ./src/RingaObject.js","import RingaObject from './RingaObject';\nimport ErrorStackParser from 'error-stack-parser';\n\nlet eventIx = 0;\n\n/**\n * RingaEvent wraps a CustomEvent that is dispatched on the DOM:\n *\n *   let event = new RingaEvent('change', {\n *     property: 'index',\n *     newValue: 1\n *   });\n *\n *   event.dispatch();\n *\n * By default, the event will be dispatched on the document object, but you can provide a custom DOMNode to dispatch\n * from:\n *\n *   event.dispatch(myDiv);\n *\n * All RingaEvents bubble and are cancelable by default.\n */\nclass RingaEvent extends RingaObject {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Build a RingaEvent that wraps a CustomEvent internally.\n   *\n   * @param type\n   * @param detail\n   * @param bubbles\n   * @param cancelable\n   */\n  constructor(type, detail = {}, bubbles = true, cancelable = true) {\n    super('event_' + type + '_' + eventIx++);\n\n    this.detail = detail;\n    detail.ringaEvent = this;\n\n    this.customEvent = new CustomEvent(type, {\n      detail,\n      bubbles,\n      cancelable\n    });\n\n    this.dispatched = false;\n    this.controller = undefined;\n\n    this._errors = undefined;\n\n    this.listeners = {};\n\n    this.caught = false;\n  }\n\n  //-----------------------------------\n  // Properties\n  //-----------------------------------\n  get type() {\n    return this.customEvent.type;\n  }\n\n  get bubbles() {\n    return this.customEvent.bubbles;\n  }\n\n  get cancelable() {\n    return this.customEvent.cancelable;\n  }\n\n  get target() {\n    return this.customEvent.target;\n  }\n\n  get currentTarget() {\n    return this.customEvent.currentTarget;\n  }\n\n  get errors() {\n    return this._errors;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  /**\n   * Dispatch the event on the provided domNode.\n   *\n   * Note: this method is always delayed so you must not access its properties\n   * until a frame later.\n   *\n   * @param domNode\n   */\n  dispatch(domNode = document) {\n    setTimeout(this._dispatch.bind(this, domNode), 0);\n\n    return this;\n  }\n\n  _dispatch(domNode) {\n    if (this.dispatched) {\n      throw Error('RingaEvent::dispatch(): events should only be dispatched once!', this);\n    }\n\n    this.dispatched = true;\n\n    // TODO this should be in dispatch not _dispatch\n    if (window.__DEV__) {\n      this.dispatchStack = ErrorStackParser.parse(new Error());\n      this.dispatchStack.shift(); // Remove a reference to RingaEvent.dispatch()\n      if (this.dispatchStack[0].toString().search('Object.dispatch') !== -1) {\n        this.dispatchStack.shift(); // Remove a reference to Object.dispatch()\n      }\n    } else {\n      this.dispatchStack = 'To turn on stack traces, build Ringa in development mode. See documentation.';\n    }\n\n    domNode.dispatchEvent(this.customEvent);\n  }\n\n  /**\n   * Completely kills the current Ringa thread, keeping any subsequent commands from running.\n   */\n  fail(error) {\n    this.killed = true;\n\n    this.pushError(error);\n  }\n\n  pushError(error) {\n    this._errors = this._errors || [];\n    this.errors.push(error);\n  }\n\n  toString() {\n    console.log('[' + this.type + ']', this.detail, this.target, this.stack);\n  }\n\n  _done() {\n    this._dispatchEvent(RingaEvent.DONE);\n  }\n\n  _fail(error) {\n    this._dispatchEvent(RingaEvent.FAIL, undefined, error);\n  }\n\n  _dispatchEvent(type, detail, error) {\n    let listeners = this.listeners[type];\n\n    if (listeners) {\n      listeners.forEach((listener) => {\n        listener({\n          type,\n          detail,\n          error\n        });\n      });\n    }\n  }\n\n  /**\n   * Add a listener for either RingaEvent.DONE or RingaEvent.FAIL for when the CommandThread that\n   * was triggered by this event has completed.\n   *\n   * @param eventType\n   * @param handler\n   */\n  addListener(eventType, handler) {\n    if (typeof eventType !== 'string') {\n      throw Error('RingaEvent::addListener(): invalid eventType provided!' + eventType);\n    }\n\n    this.listeners[eventType] = this.listeners[eventType] || [];\n    this.listeners[eventType].push(handler);\n\n    return this;\n  }\n\n  addDoneListener(handler) {\n    return this.addListener(RingaEvent.DONE, handler);\n  }\n\n  addFailListener(handler) {\n    return this.addListener(RingaEvent.FAIL, handler);\n  }\n}\n\nRingaEvent.DONE = 'done';\nRingaEvent.FAIL = 'fail';\nRingaEvent.PREHOOK = 'prehook';\n\nexport default RingaEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/RingaEvent.js","import CommandAbstract from './CommandAbstract';\nimport CommandFunctionWrapper from './commands/CommandFunctionWrapper';\nimport CommandPromiseWrapper from './commands/CommandPromiseWrapper';\nimport CommandEventWrapper from './commands/CommandEventWrapper';\nimport CommandsParallelWrapper from './commands/CommandsParallelWrapper';\nimport RingaEventFactory from './RingaEventFactory';\nimport {getArgNames} from './util/function';\n\nclass CommandFactory {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructs a CommandFactory.\n   *\n   * @param executee This can be a Class, a instance, a function... we determine what type of\n   *   CommandAbstract to build based on what is passed in. This makes things extensible.\n   */\n  constructor(executee) {\n    this.executee = executee;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  cacheArguments(instance) {\n    this.argNames = getArgNames(instance.execute);\n  }\n\n  build(commandThread) {\n    if (typeof this.executee === 'string') {\n      let ringaEventFactory = new RingaEventFactory(this.executee);\n      return new CommandEventWrapper(commandThread, ringaEventFactory);\n    } else if (typeof this.executee.then === 'function') {\n      return new CommandPromiseWrapper(commandThread, this.executee);\n    } else if (typeof this.executee === 'function') {\n      if (this.executee.prototype instanceof CommandAbstract) {\n        let instance = new this.executee(commandThread, this.argNames);\n\n        if (!this.argNames) {\n          this.cacheArguments(instance);\n          instance.argNames = this.argNames;\n        }\n\n        return instance;\n      } else {\n        return new CommandFunctionWrapper(commandThread, this.executee);\n      }\n    } else if (this.executee instanceof Array) {\n      // This might be a group of CommandAbstracts that should be run synchronously\n      return new CommandsParallelWrapper(commandThread, this.executee);\n    } else if (typeof this.executee === 'object' && this.executee instanceof RingaEventFactory) {\n      return new CommandEventWrapper(commandThread, this.executee);\n    }\n\n    throw Error('CommandFactory::build(): the type of executee you provided is not supported by Ringa: ' + typeof this.executee + ': ' + this.executee);\n  }\n}\n\nexport default CommandFactory;\n\n\n// WEBPACK FOOTER //\n// ./src/CommandFactory.js","import RingaHashArray from './RingaHashArray';\nimport CommandThread from './CommandThread';\nimport CommandFactory from './CommandFactory';\n\nclass CommandThreadFactory extends RingaHashArray {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  constructor(id, commandFactories, options) {\n    super(id || 'commandFactory');\n\n    options = options || {};\n    options.synchronous = options.synchronous === undefined ? false : options.synchronous;\n\n    let addOne = this._hashArray.addOne;\n    this._hashArray.addOne = function(obj) {\n      if (!(obj instanceof CommandFactory)) {\n        obj = new CommandFactory(obj);\n      }\n\n      addOne.call(this, obj);\n    }\n\n    if (commandFactories) {\n      this.addAll(commandFactories);\n    }\n\n    this.threadId = 0;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  build(ringaEvent) {\n    if (!this.controller) {\n      console.log('CommandThreadFactory::build(): controller was not set before the build method was called.');\n    }\n\n    let commandThread = new CommandThread(this.id + '_Thread' + this.threadId, this);\n\n    this.threadId++;\n\n    return commandThread;\n  }\n}\n\nexport default CommandThreadFactory;\n\n\n// WEBPACK FOOTER //\n// ./src/CommandThreadFactory.js","import RingaEvent from './RingaEvent';\n\nclass RingaEventFactory {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  constructor(eventType, detail, domNode, requireCatch = false, bubbles = true, cancellable = true) {\n    this.eventType = eventType;\n    this.detail = detail;\n    this.domNode = domNode;\n    this.bubbles = true;\n    this.cancellable = true;\n    this.requireCatch = requireCatch;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  build(callee) {\n    let newDetail = {};\n\n    Object.assign(newDetail, this.detail);\n\n    newDetail._callee = callee;\n    newDetail.requireCatch = this.requireCatch;\n\n    return new RingaEvent(this.eventType, newDetail, this.bubbles, this.cancellable);\n  }\n\n  toString() {\n    return 'RingaEventFactory_' + this.eventType;\n  }\n}\n\nexport default RingaEventFactory;\n\n\n// WEBPACK FOOTER //\n// ./src/RingaEventFactory.js","module.exports = require('./src/HashArray.js');\n\n\n// WEBPACK FOOTER //\n// ./~/hasharray/index.js","import HashArray from 'hasharray';\nimport RingaObject from './RingaObject';\n\n/**\n * This is a proxy class for HashArray that extends RingaObject.\n */\nclass RingaHashArray extends RingaObject {\n  constructor(id = '[ID]', key = 'id', changeHandler = undefined, options = undefined) {\n    super(id);\n\n    this._hashArray = new HashArray(key, changeHandler, options);\n  }\n\n  get all() {\n    return this._hashArray._list;\n  }\n  add() {\n    return this._hashArray.add(...arguments);\n  }\n  addAll() {\n    return this._hashArray.addAll(...arguments);\n  }\n  addMap(){\n    return this._hashArray.addMap(...arguments);\n  }\n  addOne(){\n    return this._hashArray.addOne(...arguments);\n  }\n  get() {\n    return this._hashArray.get(...arguments);\n  }\n  getAll(){\n    return this._hashArray.getAll(...arguments);\n  }\n  getAsArray(){\n    return this._hashArray.getAsArray(...arguments);\n  }\n  sample(){\n    return this._hashArray.sample(...arguments);\n  }\n  remove(){\n    return this._hashArray.remove(...arguments);\n  }\n  removeByKey(){\n    return this._hashArray.removeByKey(...arguments);\n  }\n  removeAll(){\n    return this._hashArray.removeAll(...arguments);\n  }\n  intersection(){\n    return this._hashArray.intersection(...arguments);\n  }\n  complement(){\n    return this._hashArray.complement(...arguments);\n  }\n  has(){\n    return this._hashArray.has(...arguments);\n  }\n  hasMultiple(){\n    return this._hashArray.hasMultiple(...arguments);\n  }\n  collides(){\n    return this._hashArray.collides(...arguments);\n  }\n  forEach(){\n    return this._hashArray.forEach(...arguments);\n  }\n  forEachDeep(){\n    return this._hashArray.forEachDeep(...arguments);\n  }\n  sum(){\n    return this._hashArray.sum(...arguments);\n  }\n  average(){\n    return this._hashArray.average(...arguments);\n  }\n  filter(){\n    return this._hashArray.filter(...arguments);\n  }\n  objectAt(){\n    return this._hashArray.objectAt(...arguments);\n  }\n  clone(){\n    return this._hashArray.clone(...arguments);\n  }\n}\n\nexport default RingaHashArray;\n\n\n// WEBPACK FOOTER //\n// ./src/RingaHashArray.js","/**\n * This method is used for injecting RingaEvent.detail properties into a function owned by a CommandAbstract. It uses the data\n * gathered from introspecting a provided function to determine a set of arguments to\n * call the function with. It maps everything on ringaEvent.detail to arguments on the function.\n *\n * If our function is:\n *\n *    execute(user, filter) {...}\n *\n *  Then expectedArguments should be ['user', 'filter']\n *\n *  To generate the expected arguments, see util/function.js::getArgNames.\n *\n * We want to find ringaEvent.detail['user'] and ringaEvent.detail['filter']\n * and pass those through and error if one of them is missing.\n *\n * Note that there are other properties that can be requested in the arguments list of execute:\n *\n * controller: the Controller object that is handling this thread\n * commandThread: the CommandThread object that built this Command\n * ringaEvent: the ringaEvent itself (instead of one of its detail properties)\n * customEvent: the customEvent that is wrapped by the ringaEvent that was used to bubble up the DOM\n * target: the target DOMNode that triggered the customEvent was dispatched on.\n * done: the parent CommandAbstract::done(). CommandFunction is an example of where this is needed.\n * fail: the parent CommandAbstract::fail(). CommandFunction is an example of where this is needed.\n *\n * @param commandAbstract The CommandAbstract subclass instance.\n * @param expectedArguments An array of argument names that the target function expects.\n * @param ringaEvent An instance of RingaEvent that has been dispatched and contains a details Object with properties to be injected.\n *\n * @returns {Array}\n */\nexport const buildArgumentsFromRingaEvent = function(commandAbstract, expectedArguments, ringaEvent) {\n  let args = [];\n\n  if (!(expectedArguments instanceof Array)) {\n    throw Error('buildArgumentsFromRingaEvent(): An internal error has occurred in that expectedArguments is not an Array!');\n  }\n\n  let injections = commandAbstract._injections = commandAbstract._injections || {\n      controller: commandAbstract.controller,\n      commandThread: commandAbstract.commandThread,\n      ringaEvent: ringaEvent,\n      customEvent: ringaEvent.customEvent,\n      target: ringaEvent.target,\n      done: commandAbstract.done,\n      fail: commandAbstract.fail\n    };\n\n  // Merge controller.options.injections into our injector\n  for (var key in commandAbstract.controller.options.injections) {\n    injections[key] = commandAbstract.controller.options.injections[key];\n  }\n\n  expectedArguments.forEach((argName) => {\n    if (ringaEvent.detail && ringaEvent.detail.hasOwnProperty(argName)) {\n      args.push(ringaEvent.detail[argName]);\n    } else if (injections.hasOwnProperty(argName)) {\n      args.push(injections[argName]);\n    } else {\n      let message = commandAbstract.toString() +\n      ': the property \\'' +\n      argName +\n      '\\' was not provided on the dispatched ringaEvent.' +\n      'Expected Arguments were: [\\'' + expectedArguments.join('\\'.\\'') +\n      '\\'] Dispatched from: ' +\n        (ringaEvent.dispatchStack ? ringaEvent.dispatchStack[0] : 'unknown stack.');\n\n      throw Error(message);\n    }\n  });\n\n  return args;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/util/command.js","/**\n * This function returns the arguments for another method as an array.\n *\n * TODO: this should give some indication in its return on which arguments are optional (e.g. func(a=1,b=2,c='whatever'))\n *\n * @param func\n * @returns {Array}\n */\nexport const getArgNames = function (func) {\n  var s = func.toString();\n  s = s.substring(s.indexOf('(')+1, s.indexOf(')'));\n  s = s.replace(/[\\r\\n\\s]*/g, '');\n  s = s.replace(/\\\\+['\"]/g, '').replace(/=\\s*([\"']).*?\\1/g, '').replace(/=.*?(,|$)/g, '');\n  return s.length !== 0 ? s.split(',') : [];\n};\n\n\n// WEBPACK FOOTER //\n// ./src/util/function.js","import CommandThreadFactory from './CommandThreadFactory';\nimport RingaObject from './RingaObject';\nimport HashArray from 'hasharray';\nimport RingaEvent from './RingaEvent';\n\n/**\n * Controller is the hub for events dispatched on the DOM invoking threads of commands.\n */\nclass Controller extends RingaObject {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructs a new controller.\n   *\n   * @param id The id of this controller, primarily used for internal hashes and debugging. Must be unique.\n   * @param domNode The native browser DOMNode element (not a React Node) to attach event listeners to.\n   * @param options See documentation on Controller options. Defaults are provided, so this is optional.\n   */\n  constructor(id, domNode, options) {\n    super(id);\n\n    if (!domNode) {\n      throw Error('Controller:constructor(): no DOMNode provided to constructor!');\n    }\n\n    this.domNode = domNode;\n\n    this.options = options || {};\n    this.options.timeout = this.options.timeout || 5000;\n    this.options.throwKillsThread = this.options.throwKillsThread === undefined ? true : false;\n    this.options.consoleLogFails = this.options.consoleLogFails === undefined ? true : false;\n    this.options.injections = this.options.injections || {};\n\n    this.commandThreads = new HashArray('id');\n\n    this.eventTypeToCommandThreadFactory = new Map();\n\n    this._eventHandler = this._eventHandler.bind(this);\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  getListener(eventType) {\n    return this.eventTypeToCommandThreadFactory[eventType];\n  }\n\n  addListener(eventType, commandThreadFactoryOrArray) {\n    let commandThreadFactory;\n\n    if (!commandThreadFactoryOrArray || commandThreadFactoryOrArray instanceof Array) {\n      commandThreadFactory = new CommandThreadFactory(this.id + '_' + eventType + '_CommandThreadFactory', commandThreadFactoryOrArray);\n    } else if (typeof commandThreadFactoryOrArray.build === 'function') {\n      commandThreadFactory = commandThreadFactoryOrArray;\n    } else {\n      throw Error('Controller::addListener(): the provided commandThreadFactoryOrArray is not valid!');\n    }\n\n    if (!commandThreadFactory || !(commandThreadFactory instanceof CommandThreadFactory)) {\n      throw Error('Controller::addListener(): commandThreadFactory not an instance of CommandThreadFactory');\n    }\n\n    if (commandThreadFactory.controller) {\n      throw Error('Controller::addListener(): commandThreadFactory cannot have two parent controllers!');\n    }\n\n    if (this.eventTypeToCommandThreadFactory[eventType]) {\n      throw Error('Controller.addListener(): the event \\'' + eventType + '\\' has already been added! Use getListener() to make modifications.');\n    }\n\n    commandThreadFactory.controller = this;\n\n    this.eventTypeToCommandThreadFactory[eventType] = commandThreadFactory;\n\n    if (typeof eventType === 'string') {\n      this.domNode.addEventListener(eventType, this._eventHandler);\n    } else {\n      let _eventType = undefined;\n\n      if (eventType.hasOwnProperty('toString')) {\n        _eventType = eventType.toString();\n      }\n\n      if (_eventType) {\n        this.domNode.addEventListener(_eventType, this._eventHandler.bind(this));\n      } else {\n        throw Error('Controller::addListener(): provided eventType is invalid.', eventType);\n      }\n    }\n\n    return commandThreadFactory;\n  }\n\n  removeListener(eventType) {\n    let commandThreadFactory = this.eventTypeToCommandThreadFactory[eventType];\n\n    if (commandThreadFactory) {\n      delete this.eventTypeToCommandThreadFactory[eventType];\n\n      this.domNode.removeEventListener(eventType, this._eventHandler);\n\n      return commandThreadFactory;\n    }\n\n    throw Error('Controller:removeListener(): could not find a listener for \\'' + eventType + '\\'', this);\n  }\n\n  hasListener(eventType) {\n    return this.getListener(eventType) !== undefined;\n  }\n\n  invoke(ringaEvent, commandThreadFactory) {\n    let commandThread = commandThreadFactory.build(ringaEvent);\n\n    this.commandThreads.add(commandThread);\n\n    ringaEvent._dispatchEvent(RingaEvent.PREHOOK);\n\n    // TODO PREHOOK should allow the handler to cancel running of the thread.\n    commandThread.run(ringaEvent, this.threadDoneHandler.bind(this), this.threadFailHandler.bind(this));\n\n    return commandThread;\n  }\n\n  //-----------------------------------\n  // Events\n  //-----------------------------------\n  _eventHandler(customEvent) {\n    // This event might be a something like 'click' which does not have\n    // an attached ringaEvent yet!\n    customEvent.detail.ringaEvent = customEvent.detail.ringaEvent || new RingaEvent(customEvent.type, customEvent.detail, customEvent.bubbles, customEvent.cancellable);\n\n    // TODO, how do we handle two controllers handling the same event?\n    if (customEvent.detail.ringaEvent.controller) {\n      throw Error('Controller::_eventHandler(): event was received that has already been handled by another controller: ' + customEvent);\n    }\n\n    customEvent.detail.ringaEvent.controller = this;\n\n    let commandThreadFactory = this.eventTypeToCommandThreadFactory[customEvent.type];\n\n    if (!commandThreadFactory) {\n      throw Error('Controller::_eventHandler(): caught an event but there is no associated CommandThreadFactory! Fatal error.');\n    }\n\n    customEvent.detail.ringaEvent.caught = true;\n\n    let abort;\n    try {\n      abort = this.preInvokeHandler(customEvent.detail.ringaEvent);\n    } catch (error) {\n      // At this point we don't have a thread yet, so this is all kinds of whack.\n      if (this.options.consoleLogFails) {\n        console.error(error);\n      }\n\n      customEvent.detail.ringaEvent._fail(error);\n    }\n\n    if (abort === true) {\n      return;\n    }\n\n    try {\n      let commandThread = this.invoke(customEvent.detail.ringaEvent, commandThreadFactory);\n\n      this.postInvokeHandler(customEvent.detail.ringaEvent, commandThread);\n    } catch (error) {\n      this.threadFailHandler(commandThread, error);\n    }\n  }\n\n  preInvokeHandler(ringaEvent) {\n    // Can be extended by a subclass\n    return false;\n  }\n\n  postInvokeHandler(ringaEvent, commandThread) {\n    // Can be extended by a subclass\n  }\n\n  threadDoneHandler(commandThread) {\n    if (!this.commandThreads.has(commandThread.id)) {\n      throw Error(`Controller::threadDoneHandler(): could not find thread with id ${commandThread.id}`);\n    }\n\n    this.commandThreads.remove(commandThread);\n\n    commandThread.ringaEvent._done();\n  }\n\n  threadFailHandler(commandThread, error, kill) {\n    if (this.options.consoleLogFails) {\n      console.error(error);\n    }\n\n    if (kill) {\n      if (this.commandThreads.has(commandThread.id)) {\n        this.commandThreads.remove(commandThread);\n      } else {\n        throw Error(`Controller:threadFailHandler(): the CommandThread with the id ${commandThread.id} was not found.`)\n      }\n    }\n\n    commandThread.ringaEvent._fail(error);\n  }\n\n  dispatch(eventType, details) {\n    return new RingaEvent(eventType, details).dispatch(this.domNode);\n  }\n}\n\nexport default Controller;\n\n\n// WEBPACK FOOTER //\n// ./src/Controller.js","import CommandAbstract from '../CommandAbstract';\nimport {buildArgumentsFromRingaEvent} from '../util/command';\n\n/**\n * Command is the base class for all command objects that are run in a Ringa application or module.\n */\nclass Command extends CommandAbstract {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new Command. This *must* be called via super() from a subclass constructor.\n   *\n   * @param commandThread The parent thread that owns this command.\n   * @param argNames For efficiency, the CommandFactory instrospects this Command's execute(...) arguments.\n   */\n  constructor(commandThread, argNames) {\n    super(commandThread);\n\n    this.argNames = argNames;\n    this.finished = false;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n\n  /**\n   * Internal execution method called by CommandThread only.\n   *\n   * @param doneHandler The handler to call when done() is called.\n   * @param failHandler The handler to call when fail() is called;\n   * @private\n   */\n  _execute(doneHandler, failHandler) {\n    super._execute(doneHandler, failHandler);\n\n    let args = buildArgumentsFromRingaEvent(this, this.argNames, this.commandThread.ringaEvent);\n\n    const donePassedAsArg = this.argNames.indexOf('done') !== -1;\n\n    // If the function returns true, we continue on the next immediate cycle.\n    // If, however the function requested that 'done' be passed, we assume it is an asynchronous\n    // function and let the function determine when it will call done.\n    if (this.execute.apply(this, args) && !donePassedAsArg) {\n      this.done();\n    }\n  }\n\n  /**\n   * Override this method to provide functionality to the command.\n   *\n   * @returns {boolean}\n   */\n  execute() {\n    // To be overridden by subclass\n    return false;\n  }\n\n  /**\n   * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n   */\n  done() {\n    this.finished = true;\n\n    super.done();\n  }\n\n  /**\n   * Call this method if an error occurred during the processing of a command.\n   *\n   * @param error The error that has occurred.\n   * @param kill True if you want the thread to die immediately.\n   */\n  fail(error, kill = false) {\n    this.finished = true;\n\n    super.fail(error, kill);\n  }\n}\n\nexport default Command;\n\n\n// WEBPACK FOOTER //\n// ./src/commands/Command.js","import {ForceUpdate} from '../';\n\n\n/**\n * This is a global map of all Class types to the expected injector object.\n *\n * @type {Map}\n */\nconst classToInjections = new WeakMap();\n\n/**\n * The inject descriptor is used like so:\n *\n *   @inject(ClassName)\n *   this.classInstance;\n *\n * OR\n *\n *   @inject('ObjectName')\n *   this.classInstance;\n *\n * @param classTypeOrName Either a Class reference or a string representing a requested object by name.\n * @param option Could be Ring.ForceUpdate which forces the parent class ReactDOM instance to call forceUpdate\n *               when the property is set.\n */\nexport default function inject(classTypeOrName, option) {\n  return function(target, key, descriptor) {\n    let injector = (classToInjections[target.constructor.name] = classToInjections[target.constructor.name] || {});\n    injector[key] = { classTypeOrName, option };\n\n    target.injector = injector;\n\n    // If ForceUpdate is set, then we wrap the default setter in a method\n    // that calls forceUpdate after the set has occurred.\n    if (option === ForceUpdate) {\n      let setter = descriptor.set;\n\n      descriptor.set = function(value) {\n        setter.call(this, value);\n\n        this.forceUpdate();\n      }\n    }\n\n    return descriptor;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/decorators/inject.js","import inject from './decorators/inject';\nimport Command from './commands/Command';\nimport CommandFactory from './CommandFactory';\nimport CommandThreadFactory from './CommandThreadFactory';\nimport Controller from './Controller';\nimport RingaEvent from './RingaEvent';\nimport RingaEventFactory from './RingaEventFactory';\n\nconst ForceUpdate = Symbol('ForceUpdate');\n\nexport { inject, Command, CommandFactory, CommandThreadFactory, Controller, RingaEvent, ForceUpdate };\n\nexport default {\n  inject,\n  ForceUpdate,\n  Controller,\n  Command,\n  CommandFactory,\n  CommandThreadFactory,\n  Event: RingaEvent,\n  dispatch: (eventType, details, domNode = document) => {\n    return new RingaEvent(eventType, details).dispatch(domNode);\n  },\n  iif: (condition, executor) => {\n\n  },\n  Spawn: (executor) => {\n\n  },\n  Bind: (commandAbstract, ...params) => {\n\n  },\n  EventFactory: (eventType, detail, domNode, requireCatch = false, bubbles = true, cancellable = true) => {\n    return new RingaEventFactory(eventType, detail, domNode, requireCatch, bubbles, cancellable);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var tokens = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').split(/\\s+/).slice(1);\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var tokens = line.split('@');\n                    var locationParts = this.extractLocation(tokens.pop());\n                    var functionName = tokens.join('@') || undefined;\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/error-stack-parser/error-stack-parser.js","(function (root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function () {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str[0].toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function () {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            var props = booleanProps.concat(numericProps.concat(stringProps.concat(arrayProps)));\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function () {\n            return this.args;\n        },\n        setArgs: function (v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function () {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function (v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function () {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function (p) {\n            return function (v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function (p) {\n            return function (v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function (p) {\n            return function (v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/error-stack-parser/~/stackframe/stackframe.js","/*===========================================================================*\\\n * Requires\n\\*===========================================================================*/\nvar JClass = require('jclass');\n\n/*===========================================================================*\\\n * HashArray\n\\*===========================================================================*/\nvar HashArray = JClass._extend({\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  init: function(keyFields, callback, options) {\n    keyFields = keyFields instanceof Array ? keyFields : [keyFields];\n\n    this._map = {};\n    this._list = [];\n    this.callback = callback;\n\n    this.keyFields = keyFields;\n\n    this.isHashArray = true;\n    \n    this.options = options || {\n      ignoreDuplicates: false\n    };\n\n    if (callback) {\n      callback('construct');\n    }\n  },\n  //-----------------------------------\n  // add()\n  //-----------------------------------\n  addOne: function (obj) {\n    var needsDupCheck = false;\n    for (var key in this.keyFields) {\n      key = this.keyFields[key];\n      var inst = this.objectAt(obj, key);\n      if (inst) {\n        if (this._map[inst]) {\n          if (this.options.ignoreDuplicates)\n            return;\n          if (this._map[inst].indexOf(obj) != -1) {\n            // Cannot add the same item twice\n            needsDupCheck = true;\n            continue;\n          }\n          this._map[inst].push(obj);\n        }\n        else this._map[inst] = [obj];\n      }\n    }\n\n    if (!needsDupCheck || this._list.indexOf(obj) == -1)\n      this._list.push(obj);\n  },\n  add: function() {\n    for (var i = 0; i < arguments.length; i++) {\n      this.addOne(arguments[i]);\n    }\n\n    if (this.callback) {\n      this.callback('add', Array.prototype.slice.call(arguments, 0));\n    }\n    \n    return this;\n  },\n  addAll: function (arr) {\n    if (arr.length < 100)\n      this.add.apply(this, arr);\n    else {\n      for (var i = 0; i < arr.length; i++)\n        this.add(arr[i]);\n    }\n    \n    return this;\n  },\n  addMap: function(key, obj) {\n    this._map[key] = obj;\n    if (this.callback) {\n      this.callback('addMap', {\n        key: key,\n        obj: obj\n      });\n    }\n    \n    return this;\n  },\n  //-----------------------------------\n  // Intersection, union, etc.\n  //-----------------------------------\n  /**\n   * Returns a new HashArray that contains the intersection between this (A) and the hasharray passed in (B). Returns A ^ B.\n   */\n  intersection: function (other) {\n    var self = this;\n\n    if (!other || !other.isHashArray)\n      throw Error('Cannot HashArray.intersection() on a non-hasharray object. You passed in: ', other);\n\n    var ret = this.clone(null, true),\n      allItems = this.clone(null, true).addAll(this.all.concat(other.all));\n\n    allItems.all.forEach(function (item) {\n      if (self.collides(item) && other.collides(item))\n        ret.add(item);\n    });\n\n    return ret;\n  },\n  /**\n   * Returns a new HashArray that contains the complement (difference) between this hash array (A) and the hasharray passed in (B). Returns A - B.\n   */\n  complement: function (other) {\n    var self = this;\n\n    if (!other || !other.isHashArray)\n      throw Error('Cannot HashArray.complement() on a non-hasharray object. You passed in: ', other);\n\n    var ret = this.clone(null, true);\n\n    this.all.forEach(function (item) {\n      if (!other.collides(item))\n        ret.add(item);\n    });\n\n    return ret;\n  },\n  //-----------------------------------\n  // Retrieval\n  //-----------------------------------\n  get: function(key) {\n    return (!(this._map[key] instanceof Array) || this._map[key].length != 1) ? this._map[key] : this._map[key][0];\n  },\n  getAll: function(keys) {\n    keys = keys instanceof Array ? keys : [keys];\n\n    if (keys[0] == '*')\n      return this.all;\n\n    var res = new HashArray(this.keyFields);\n    for (var key in keys)\n      res.add.apply(res, this.getAsArray(keys[key]));\n\n    return res.all;\n  },\n  getAsArray: function(key) {\n    return this._map[key] || [];\n  },\n  getUniqueRandomIntegers: function (count, min, max) {\n    var res = [], map = {};\n\n    count = Math.min(Math.max(max - min, 1), count);\n    \n    while (res.length < count)\n    {\n      var r = Math.floor(min + (Math.random() * (max + 1)));\n      if (map[r]) continue;\n      map[r] = true;\n      res.push(r);\n    }\n\n    return res;\n  },\n  sample: function (count, keys) {\n    // http://en.wikipedia.org/wiki/Image_(mathematics)\n    var image = this.all,\n      ixs = {},\n      res = [];\n\n    if (keys)\n      image = this.getAll(keys);\n\n    var rand = this.getUniqueRandomIntegers(count, 0, image.length - 1);\n\n    for (var i = 0; i < rand.length; i++)\n      res.push(image[rand[i]]);\n\n    return res;\n  },\n  //-----------------------------------\n  // Peeking\n  //-----------------------------------\n  has: function(key) {\n    return this._map.hasOwnProperty(key);\n  },\n  collides: function (item) {\n    for (var k in this.keyFields)\n      if (this.has(this.objectAt(item, this.keyFields[k])))\n        return true;\n    \n    return false;\n  },\n  hasMultiple: function(key) {\n    return this._map[key] instanceof Array;\n  },\n  //-----------------------------------\n  // Removal\n  //-----------------------------------\n  removeByKey: function() {\n    var removed = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var key = arguments[i];\n      var items = this._map[key].concat();\n      if (items) {\n        removed = removed.concat(items);\n        for (var j in items) {\n          var item = items[j];\n          for (var ix in this.keyFields) {\n            var key2 = this.objectAt(item, this.keyFields[ix]);\n            if (key2 && this._map[key2]) {\n              var ix = this._map[key2].indexOf(item);\n              if (ix != -1) {\n                this._map[key2].splice(ix, 1);\n              }\n\n              if (this._map[key2].length == 0)\n                delete this._map[key2];\n            }\n          }\n\n          this._list.splice(this._list.indexOf(item), 1);\n        }\n      }\n      delete this._map[key];\n    }\n\n    if (this.callback) {\n      this.callback('removeByKey', removed);\n    }\n    \n    return this;\n  },\n  remove: function() {\n    for (var i = 0; i < arguments.length; i++) {\n      var item = arguments[i];\n      for (var ix in this.keyFields) {\n        var key = this.objectAt(item, this.keyFields[ix]);\n        if (key) {\n          var ix = this._map[key].indexOf(item);\n          if (ix != -1)\n            this._map[key].splice(ix, 1);\n\n          if (this._map[key].length == 0)\n            delete this._map[key];\n        }\n      }\n\n      this._list.splice(this._list.indexOf(item), 1);\n    }\n\n    if (this.callback) {\n      this.callback('remove', arguments);\n    }\n    \n    return this;\n  },\n  removeAll: function() {\n    var old = this._list.concat();\n    this._map = {};\n    this._list = [];\n\n    if (this.callback) {\n      this.callback('remove', old);\n    }\n    \n    return this;\n  },\n  //-----------------------------------\n  // Utility\n  //-----------------------------------\n  objectAt: function(obj, path) {\n    if (typeof path === 'string') {\n      return obj[path];\n    }\n\n    var dup = path.concat();\n    // else assume array.\n    while (dup.length && obj) {\n      obj = obj[dup.shift()];\n    }\n\n    return obj;\n  },\n  //-----------------------------------\n  // Iteration\n  //-----------------------------------\n  forEach: function(keys, callback) {\n    keys = keys instanceof Array ? keys : [keys];\n\n    var objs = this.getAll(keys);\n\n    objs.forEach(callback);\n    \n    return this;\n  },\n  forEachDeep: function(keys, key, callback) {\n    keys = keys instanceof Array ? keys : [keys];\n\n    var self = this,\n      objs = this.getAll(keys);\n\n    objs.forEach(function (item) {\n      callback(self.objectAt(item, key), item);\n    });\n    \n    return this;\n  },\n  //-----------------------------------\n  // Cloning\n  //-----------------------------------\n  clone: function(callback, ignoreItems) {\n    var n = new HashArray(this.keyFields.concat(), callback ? callback : this.callback);\n    if (!ignoreItems)\n      n.add.apply(n, this.all.concat());\n    return n;\n  },\n  //-----------------------------------\n  // Mathematical\n  //-----------------------------------\n  sum: function(keys, key, weightKey) {\n    var self = this,\n      ret = 0;\n    this.forEachDeep(keys, key, function (value, item) {\n      if (weightKey !== undefined)\n        value *= self.objectAt(item, weightKey);\n\n      ret += value;\n    });\n    return ret;\n  },\n  average: function(keys, key, weightKey) {\n    var ret = 0,\n      tot = 0,\n      weightsTotal = 0,\n      self = this;\n\n    if (weightKey !== undefined)\n      this.forEachDeep(keys, weightKey, function (value) {\n        weightsTotal += value;\n      })\n\n    this.forEachDeep(keys, key, function (value, item) {\n      if (weightKey !== undefined)\n        value *= (self.objectAt(item, weightKey) / weightsTotal);\n\n      ret += value;\n      tot++;\n    });\n\n    return weightKey !== undefined ? ret : ret / tot;\n  },\n  //-----------------------------------\n  // Filtering\n  //-----------------------------------\n  filter: function (keys, callbackOrKey) {\n    var self = this;\n    \n    var callback = (typeof(callbackOrKey) == 'function') ? callbackOrKey : defaultCallback;\n\n    var ha = new HashArray(this.keyFields);\n    ha.addAll(this.getAll(keys).filter(callback));\n    return ha;\n    \n    function defaultCallback(item) {\n      var val = self.objectAt(item, callbackOrKey);\n      return val !== undefined && val !== false;\n    }\n  }\n});\n\n//-----------------------------------\n// Operators\n//-----------------------------------\nObject.defineProperty(HashArray.prototype, 'all', {\n  get: function () {\n    return this._list;\n  }\n});\n\nObject.defineProperty(HashArray.prototype, 'map', {\n  get: function () {\n    return this._map;\n  }\n});\n\nmodule.exports = HashArray;\n\n//-----------------------------------\n// Browser\n//-----------------------------------\nif (typeof window !== 'undefined')\n  window.HashArray = HashArray;\n\n\n// WEBPACK FOOTER //\n// ./~/hasharray/src/HashArray.js","/**\n * jclass v1.1.9\n * https://github.com/riga/jclass\n *\n * Marcel Rieger, 2015\n * MIT licensed, http://www.opensource.org/licenses/mit-license\n */\n\n(function(factory) {\n\n  /**\n   * Make jclass available in any context.\n   */\n\n  if (typeof(define) == \"function\" && define.amd) {\n    // AMD\n    define([], factory);\n\n  } else if (typeof(exports) == \"object\") {\n    // CommonJS\n    exports = factory();\n\n    if (typeof(module) == \"object\") {\n      // NodeJS\n      module.exports = exports;\n    }\n\n  } else if (window) {\n    // Browser\n    window.JClass = factory();\n\n  } else if (typeof(console) == \"object\" && console.error instanceof Function) {\n    // error case\n    console.error(\"cannot determine environment\");\n  }\n\n})(function() {\n\n  /**\n   * Helper functions.\n   */\n\n  /**\n   * Checks whether a passed object is a function.\n   *\n   * @param obj - The object to check.\n   * @returns {boolean}\n   */\n  var isFn = function(obj) {\n    return obj instanceof Function;\n  };\n\n  /**\n   * Extends a target object by one or more source objects with shallow key comparisons. Note that\n   * the extension is done in-place.\n   *\n   * @param {object} target - The target object to extend.\n   * @param {...object} source - Source objects.\n   * @returns {object} The extended object.\n   */\n  var extend = function(target) {\n    var sources = Array.prototype.slice.call(arguments, 1);\n\n    // loop through all sources\n    for (var i in sources) {\n      var source = sources[i];\n\n      // object check\n      if (typeof(source) != \"object\") {\n        continue;\n      }\n\n      // loop through all source attributes\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  };\n\n\n  /**\n   * Default options.\n   */\n\n  var defaultOptions = {\n    // internal object for indicating that class objects don't have a class object themselves,\n    // may not be used by users\n    _isClassObject: false\n  };\n\n\n  /**\n   * Flags.\n   */\n\n  // flag to distinguish between prototype and class instantiation \n  var initializing = false;\n\n\n  /**\n   * Base class definition.\n   */\n\n  // empty BaseClass implementation\n  var BaseClass = function(){};\n\n  // add the _subClasses entry\n  BaseClass._subClasses = [];\n\n  // empty init method\n  BaseClass.prototype.init = function(){};\n\n\n  /**\n   * Extend mechanism. Returns a derived class.\n   *\n   * @param {object} instanceMembers - Members that will be owned by instances.\n   * @param {object} classMembers - Members that will be owned by the class itself.\n   * @returns {JClass}\n   */\n  BaseClass._extend = function(instanceMembers, classMembers, options) {\n\n    // default arguments\n    if (instanceMembers === undefined) {\n      instanceMembers = {};\n    }\n    if (classMembers === undefined) {\n      classMembers = {};\n    }\n    if (options === undefined) {\n      options = {};\n    }\n\n    // mixin default options\n    options = extend({}, defaultOptions, options);\n\n\n    // sub class dummy constructor\n    var JClass = function() {\n      // nothing happens here when we are initializing\n      if (initializing){\n        return;\n      }\n\n      // store a reference to the class itself\n      this._class = JClass;\n\n      // all construction is actually done in the init method\n      if (this.init instanceof Function) {\n        this.init.apply(this, arguments);\n      }\n    };\n\n\n    // alias for readability\n    var SuperClass = this;\n\n    // create an instance of the super class via new\n    // the flag sandwich prevents a call to the init method\n    initializing = true;\n    var prototype = new SuperClass();\n    initializing = false;\n\n    // get the prototype of the super class\n    var superPrototype = SuperClass.prototype;\n\n    // the instance of the super class is our new prototype\n    JClass.prototype = prototype;\n\n    // enforce the constructor to be what we expect\n    // calls to the constructor will invoke the init method (see above)\n    JClass.prototype.constructor = JClass;\n\n    // store a reference to the super class\n    JClass._superClass = SuperClass;\n\n    // store references to all extending classes\n    JClass._subClasses = [];\n    SuperClass._subClasses.push(JClass);\n\n    // make this class extendable as well\n    JClass._extend = SuperClass._extend;\n\n\n    // _extends returns true if the class itself extended \"target\"\n    // in any hierarchy, e.g. every class extends \"JClass\" itself\n    JClass._extends = function(target) {\n      // this function operates recursive, so stop when the super class is our BaseClass\n      if (this._superClass == BaseClass) {\n        return false;\n      }\n\n      // success case\n      if (target == this._superClass || target == BaseClass) {\n        return true;\n      }\n\n      // continue with the next super class\n      return this._superClass._extends(target);\n    };\n\n\n    // propagate instance members directly to the created protoype,\n    // the member is either a normal member or a descriptor\n    for (var key in instanceMembers) {\n      var property = Object.getOwnPropertyDescriptor(instanceMembers, key);\n      var member   = property.value;\n\n      // descriptor flag set?\n      if (member !== null && typeof(member) == \"object\" && member.descriptor) {\n        Object.defineProperty(prototype, key, member);\n\n      // getter/setter syntax\n      } else if (!(\"value\" in property) && (\"set\" in property || \"get\" in property)) {\n        Object.defineProperty(prototype, key, property);\n\n      // normal member, simple assignment\n      } else {\n        prototype[key] = member;\n\n        // if both member and the super member are distinct functions\n        // add the super member to the member as \"_super\"\n        var superMember = superPrototype[key];\n        if (isFn(member) && isFn(superMember) && member !== superMember) {\n          member._super = superMember;\n        }\n      }\n    }\n\n\n    // propagate class members to the _members object\n    if (!options._isClassObject) {\n      // try to find the super class of the _members object \n      var ClassMembersSuperClass = SuperClass._members === undefined ?\n        BaseClass : SuperClass._members._class;\n\n      // create the actual class of the _members instance\n      // with an updated version of our options\n      var opts = extend({}, options, { _isClassObject: true });\n      var ClassMembersClass = ClassMembersSuperClass._extend(classMembers, {}, opts);\n\n      // store the actual JClass in ClassMembersClass\n      ClassMembersClass._instanceClass = JClass;\n\n      // create the _members instance\n      JClass._members = new ClassMembersClass();\n    }\n\n\n    // return the new class\n    return JClass;\n  };\n\n\n  /**\n   * Converts arbitrary protoype-style classes to our JClass definition.\n   *\n   * @param {function} cls - The class to convert.\n   * @returns {JClass}\n   */\n  BaseClass._convert = function(cls, options) {\n    // the properties consist of the class' prototype\n    var instanceMembers = cls.prototype;\n\n    // add the constructor function\n    instanceMembers.init = function() {\n      // simply create an instance of our target class\n      var origin = this._origin = BaseClass._construct(cls, arguments);\n\n      // add properties for each own property in _origin\n      Object.keys(origin).forEach(function(key) {\n        if (!origin.hasOwnProperty(key)) {\n          return;\n        }\n\n        Object.defineProperty(this, key, {\n          get: function() {\n            return origin[key];\n          }\n        });\n      }, this);\n    };\n\n    // finally, create and return our new class\n    return BaseClass._extend(instanceMembers, {}, options);\n  };\n\n\n  /**\n   * Returns an instance of a class with a list of arguments. This provides an apply-like\n   * constructor usage. Note that this approach does not work with native constructors (e.g. String\n   * or Boolean).\n   *\n   * @param {Class|JClass} cls - The class to instantiate. This may be a JClass or a prototype-based\n   *   class.\n   * @param {array} [args=[]] - Arguments to pass to the constructor.\n   * @returns {instance}\n   */\n  BaseClass._construct = function(cls, args) {\n    // empty default args\n    if (args === undefined) {\n      args = [];\n    }\n\n    // create a class wrapper that calls cls like a function\n    var Class = function() {\n      return cls.apply(this, args);\n    };\n\n    // copy the prototype\n    Class.prototype = cls.prototype;\n\n    // return a new instance\n    return new Class();\n  };\n\n\n  /**\n   * Returns a property descriptor of the super class.\n   *\n   * @param {JClass|instance} cls - A JClass or an instance of a JClass to retrieve the property\n   *   descriptor from.\n   * @param {string} prop - The name of the property descriptor to get.\n   * @returns {object}\n   */\n  BaseClass._superDescriptor = function(cls, prop) {\n    // if cls is an instance, use its class\n    if (\"_class\" in cls && cls instanceof cls._class) {\n      cls = cls._class;\n    }\n\n    // a JClass?\n    if (\"_extends\" in cls && cls._extends instanceof Function && cls._extends(this)) {\n      return Object.getOwnPropertyDescriptor(cls._superClass.prototype, prop);\n    } else {\n      return undefined;\n    }\n  };\n\n\n  /**\n   * Return the BaseClass.\n   */\n\n  return BaseClass;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/jclass/index.js","import RingaHashArray from './RingaHashArray';\n\nclass CommandThread extends RingaHashArray {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  constructor(id, commandThreadFactory, options) {\n    super(id);\n\n    this.options = options;\n    this.commandThreadFactory = commandThreadFactory;\n\n    this.running = false;\n\n    // TODO: a command thread can potentially spawn child command threads\n    this.children = [];\n  }\n\n  get controller() {\n    return this.commandThreadFactory.controller;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  buildCommands() {\n    this.commandThreadFactory.all.forEach((commandFactory) => {\n      let command = commandFactory.build(this);\n\n      this.add(command);\n    });\n  }\n\n  run(ringaEvent, doneHandler, failHandler) {\n    if (this.running) {\n      throw Error('CommandThread::run(): you cannot start a thread while it is already running!');\n    }\n\n    if (this.commandThreadFactory.all.length === 0) {\n      throw Error('CommandThread::run(): attempting to run a thread with no commands!');\n    }\n\n    if (!ringaEvent) {\n      throw Error('CommandThread::run(): cannot run a thread without a RingaEvent!');\n    }\n\n    this.ringaEvent = ringaEvent;\n    this.doneHandler = doneHandler;\n    this.failHandler = failHandler;\n\n    this.buildCommands();\n\n    // The current command we are running\n    this.index = 0;\n\n    this.executeNext();\n  }\n\n  executeNext() {\n    let command = this.all[this.index];\n\n    try {\n      command._execute(this._commandDoneHandler.bind(this), this._commandFailHandler.bind(this));\n    } catch (error) {\n      this._commandFailHandler(error);\n    }\n  }\n\n  kill() {\n    this.running = false;\n  }\n\n  //-----------------------------------\n  // Events\n  //-----------------------------------\n  _commandDoneHandler(error) {\n    this.index++;\n\n    if (this.index < this.all.length) {\n      setTimeout(this.executeNext.bind(this), 0);\n    } else {\n      this.doneHandler(this);\n    }\n  }\n\n  _commandFailHandler(error, kill) {\n    this.error = error;\n\n    this.failHandler(this, error, kill);\n\n    if (!kill) {\n      this._commandDoneHandler(error);\n    }\n  }\n}\n\nexport default CommandThread;\n\n\n// WEBPACK FOOTER //\n// ./src/CommandThread.js","import CommandAbstract from '../CommandAbstract';\n\nclass CommandEventWrapper extends CommandAbstract {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new CommandEventWrapper\n   *\n   * @param commandThread The parent thread that owns this command.\n   * @param ringaEventFactory The event to dispatch and watch!\n   */\n  constructor(commandThread, ringaEventFactory) {\n    super(commandThread);\n\n    this.finished = false;\n    this.ringaEventFactory = ringaEventFactory;\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  /**\n   * Internal execution method called by CommandThread only.\n   *\n   * @param doneHandler The handler to call when done() is called.\n   * @param failHandler The handler to call when fail() is called;\n   * @private\n   */\n  _execute(doneHandler, failHandler) {\n    super._execute(doneHandler, failHandler);\n\n    this.dispatchedRingaEvent = this.ringaEventFactory.build(this);\n\n    this.dispatchedRingaEvent.addDoneListener(this.dispatchedRingaEventDoneHandler.bind(this));\n    this.dispatchedRingaEvent.addFailListener(this.dispatchedRingaEventFailHandler.bind(this));\n\n    let domNode = this.dispatchedRingaEvent.domNode || this.ringaEvent.target;\n\n    this.dispatchedRingaEvent.dispatch(domNode);\n\n    if (this.dispatchedRingaEvent.detail.requireCatch && !this.dispatchedRingaEvent.caught) {\n      this.fail(Error('CommandEventWrapper::_execute(): event ' + this.dispatchedRingaEvent.type + ' was expected to be caught and it was not.'))\n    }\n  }\n\n  /**\n   * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n   */\n  done() {\n    this.finished = true;\n\n    super.done();\n  }\n\n  /**\n   * Call this method if an error occurred during the processing of a command.\n   *\n   * @param error The error that has occurred.\n   * @param kill True if you want the thread to die immediately.\n   */\n  fail(error, kill = false) {\n    this.finished = true;\n\n    super.fail(error, kill);\n  }\n\n  toString() {\n    return this.id + ': ' + this.ringaEventFactory.eventType;\n  }\n\n  //-----------------------------------\n  // Events\n  //-----------------------------------\n  dispatchedRingaEventDoneHandler() {\n    this.done();\n  }\n\n  dispatchedRingaEventFailHandler(error) {\n    this.fail(error);\n  }\n}\n\nexport default CommandEventWrapper;\n\n\n// WEBPACK FOOTER //\n// ./src/commands/CommandEventWrapper.js","import CommandAbstract from '../CommandAbstract';\nimport {buildArgumentsFromRingaEvent} from '../util/command';\nimport {getArgNames} from '../util/function';\n\n/**\n * CommandFunctionWrapper is a wrapper for a single function. As a general rule you will not use this directly.\n */\nclass CommandFunctionWrapper extends CommandAbstract {\n  //-----------------------------------\n  // Constructor\n  //-----------------------------------\n  /**\n   * Constructor for a new Command. This *must* be called via super() from a subclass constructor.\n   *\n   * @param commandThread The parent thread that owns this command.\n   * @param func The function that is run when the CommandThread calls _execute().\n   */\n  constructor(commandThread, func) {\n    super(commandThread);\n\n    this.func = func;\n    this.finished = false;\n    this.expectedArguments = getArgNames(func);\n  }\n\n  //-----------------------------------\n  // Methods\n  //-----------------------------------\n  /**\n   * Internal execution method called by CommandThread only.\n   *\n   * @param doneHandler The handler to call when done() is called.\n   * @param failHandler The handler to call when fail() is called;\n   * @private\n   */\n  _execute(doneHandler, failHandler) {\n    super._execute(doneHandler, failHandler);\n\n    const args = buildArgumentsFromRingaEvent(this, this.expectedArguments, this.ringaEvent);\n\n    const donePassedAsArg = this.expectedArguments.indexOf('done') !== -1;\n\n    try {\n      // If the function requested that 'done' be passed, we assume it is an asynchronous\n      // function and let the function determine when it will call done.\n      this.func.apply(undefined, args);\n\n      if (!donePassedAsArg) {\n        this.done();\n      }\n    } catch (error) {\n      this.fail(error);\n    }\n  }\n\n  /**\n   * Call this method when the Command is ready to hand off control back to the parent CommandThread.\n   */\n  done() {\n    this.finished = true;\n\n    super.done();\n  }\n\n  /**\n   * Call this method if an error occurred during the processing of a command.\n   *\n   * @param error The error that has occurred.\n   * @param kill True if you want the thread to die immediately.\n   */\n  fail(error, kill = false) {\n    this.finished = true;\n\n    super.fail(error, kill);\n  }\n\n  toString() {\n    return this.id + ': ' + this.func.toString().substr(0, 128);\n  }\n}\n\nexport default CommandFunctionWrapper;\n\n\n// WEBPACK FOOTER //\n// ./src/commands/CommandFunctionWrapper.js","import CommandAbstract from '../CommandAbstract';\n\nclass CommandPromiseWrapper extends CommandAbstract {\n\n}\n\nexport default CommandPromiseWrapper;\n\n\n// WEBPACK FOOTER //\n// ./src/commands/CommandPromiseWrapper.js","import CommandAbstract from '../CommandAbstract';\n\nclass CommandsParallelWrapper extends CommandAbstract {\n\n}\n\nexport default CommandsParallelWrapper;\n\n\n// WEBPACK FOOTER //\n// ./src/commands/CommandsParallelWrapper.js"],"sourceRoot":""}